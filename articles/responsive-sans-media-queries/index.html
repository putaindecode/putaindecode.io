<!DOCTYPE html><html lang="fr"><head><title data-react-helmet="true">Du responsive sans media queries | Putain de code</title><meta data-react-helmet="true" charset="UTF-8"/><meta data-react-helmet="true" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover" name="viewport"/><meta data-react-helmet="true" content="summary_large_image" name="twitter:card"/><meta data-react-helmet="true" content="Putain de code !" property="og:site_name"/><meta data-react-helmet="true" content="@putaindecode" name="twitter:site"/><meta data-react-helmet="true" content="https://putaindecode.io/public/images/website/share.jpg" property="og:image"/><meta data-react-helmet="true" content="https://putaindecode.io/public/images/website/share.jpg" name="twitter:image"/><meta data-react-helmet="true" content="1500" property="og:image:width"/><meta data-react-helmet="true" content="777" property="og:image:height"/><meta data-react-helmet="true" content="Du responsive sans media queries | Putain de code" property="og:title"/><meta data-react-helmet="true" content="Du responsive sans media queries | Putain de code" name="twitter:title"/><meta data-react-helmet="true" content="Un article proposé par MoOx" name="description"/><link data-react-helmet="true" title="RSS Feed" href="/api/articles/feeds/desc/feed.xml" rel="alternate" type="application/rss+xml"/><link data-react-helmet="true" href="/favicon.ico" rel="shortcut icon"/><link data-react-helmet="true" href="https://putaindecode.io/articles/responsive-sans-media-queries" rel="canonical"/><script>window.PAGES_BOOT_MODE="hydrate";</script></head><div id="root"><style data-emotion="rpcss zx73cm 1lc6tyj 28v1b4">@-webkit-keyframes animation-zx73cm{from{opacity:0;-webkit-transform:translateY(20px);-moz-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}}@keyframes animation-zx73cm{from{opacity:0;-webkit-transform:translateY(20px);-moz-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}}:root{--page-background-color:#fff;--page-slightly-accented-background-color:#F9F6F6;--page-accented-background-color:#E4EBEE;--page-text-color:#46515B;--link-text-color:#E51D58;--gradient-red-top:#E51D58;--gradient-red-bottom:#CC0613;--code-background-color:#FAF3E1;--one-percent-contrast-color:rgba(0, 0, 0, 0.1);--half-percent-contrast-color:rgba(0, 0, 0, 0.05);}@media (prefers-color-scheme: dark){:root{--page-background-color:#222;--page-slightly-accented-background-color:#171717;--page-accented-background-color:#111;--page-text-color:#ddd;--link-text-color:#F87098;--gradient-red-top:#E51D58;--gradient-red-bottom:#CC0613;--code-background-color:#4F3804;--one-percent-contrast-color:rgba(255, 255, 255, 0.1);--half-percent-contrast-color:rgba(255, 255, 255, 0.05);}}body{padding:0;margin:0;background-color:var(--page-background-color);color:var(--page-text-color);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;overflow-x:hidden;}html{font-size:1em;line-height:1.4;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;}a{color:var(--link-text-color);-webkit-text-decoration:underline;text-decoration:underline;}a:hover{-webkit-text-decoration:none;text-decoration:none;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}*,*:before,*:after{box-sizing:border-box;}pre,.hljs{color:#adbac7;background:#22272e;}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067;}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb;}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-variable,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id{color:#6cb6ff;}.hljs-regexp,.hljs-string,.hljs-meta .hljs-string{color:#96d0ff;}.hljs-built_in,.hljs-symbol{color:#f69d50;}.hljs-comment,.hljs-code,.hljs-formula{color:#768390;}.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo{color:#8ddb8c;}.hljs-subst{color:#adbac7;}.hljs-section{color:#316dca;font-weight:bold;}.hljs-bullet{color:#eac55f;}.hljs-emphasis{color:#adbac7;font-style:italic;}.hljs-strong{color:#adbac7;font-weight:bold;}.hljs-addition{color:#b4f1b4;background-color:#1b4721;}.hljs-deletion{color:#ffd8d3;background-color:#78191b;}</style><style data-emotion="rpcss 9vhaby">.rpcss-9vhaby{background-color:var(--gradient-red-bottom);background-image:linear-gradient(to bottom right, var(--gradient-red-top), var(--gradient-red-bottom));}</style><header class="rpcss-9vhaby" style="background-image:linear-gradient(to bottom right, hsl(198, 100%, 35%), hsl(165, 100%, 30%))"><style data-emotion="rpcss 1qqk0tr">.rpcss-1qqk0tr{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);}</style><div class="rpcss-1qqk0tr"><style data-emotion="rpcss qx7dny">.rpcss-qx7dny{width:100%;max-width:1024px;margin:0 auto;padding:0 10px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}</style><div class="rpcss-qx7dny"><style data-emotion="rpcss 7s9om2">.rpcss-7s9om2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:20px 0 50px;}</style><div class="rpcss-7s9om2"><style data-emotion="rpcss gdpa5c">.rpcss-gdpa5c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;}</style><a class="rpcss-gdpa5c" href="/"><style data-emotion="rpcss 1lm4738">.rpcss-1lm4738{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;padding-bottom:10px;}</style><div class="rpcss-1lm4738"><style data-emotion="rpcss 13o7eu2">.rpcss-13o7eu2{display:block;}</style><svg class="rpcss-13o7eu2" height="36px" width="36px" viewBox="0 0 36 36"><defs><linearGradient id="PutainDeCodeLogoGradient" x1="50%" x2="50%" y1="0%" y2="127.223881%"><stop offset="0%" stop-color="#E41D57"></stop><stop offset="100%" stop-color="#C60000"></stop></linearGradient></defs><circle cx="18" cy="18" fill="url(#PutainDeCodeLogoGradient)" r="17" stroke="#FFFFFF" stroke-width="2"></circle><polygon fill="#FFFFFF" points="15.9033203 18.2246094 15.9033203 18.3710938 11.2304688 20.5317383 11.2304688 22.8095703 18.0566406 19.184082 18.0566406 17.4116211 11.2304688 13.7788086 11.2304688 16.0639648"></polygon><rect height="14" width="2" fill="#FFFFFF" x="22" y="11"><animate attributeName="opacity" begin="100ms" calcMode="discrete" dur="2s" repeatCount="indefinite" values="1;0"></animate></rect></svg><style data-emotion="rpcss 4cf197">.rpcss-4cf197{width:10px;height:10px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}</style><div class="rpcss-4cf197"></div><style data-emotion="rpcss u5k24">.rpcss-u5k24{font-size:22px;color:#fff;font-weight:800;}</style><div aria-level="2" class="rpcss-u5k24" role="heading">Putain de code !</div></div><style data-emotion="rpcss 1nyebg4">.rpcss-1nyebg4{font-size:14px;color:rgba(255, 255, 255, 0.8);text-align:center;}</style><div class="rpcss-1nyebg4">Blog participatif de la communauté dev</div></a></div></div></div></header><style data-emotion="rpcss a4ric9">.rpcss-a4ric9{background-color:var(--page-slightly-accented-background-color);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="rpcss-a4ric9"><style data-emotion="rpcss oeugsb">.rpcss-oeugsb{-webkit-animation:500ms ease-out animation-zx73cm;animation:500ms ease-out animation-zx73cm;}</style><div class="rpcss-oeugsb"><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 1qc2bam">.rpcss-1qc2bam{font-size:42px;font-weight:800;text-align:center;padding-top:40px;line-height:1.2;margin:0;}</style><h1 class="rpcss-1qc2bam">Du responsive sans media queries</h1><style data-emotion="rpcss obg2kr">.rpcss-obg2kr{font-size:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:40px;color:var(--page-text-color);-webkit-text-decoration:none;text-decoration:none;}</style><a class="rpcss-obg2kr" href="https://github.com/MoOx"><style data-emotion="rpcss uco8i7">.rpcss-uco8i7{width:32px;height:32px;border-radius:100%;margin-right:10px;}</style><img class="rpcss-uco8i7" alt="MoOx" src="https://avatars.githubusercontent.com/MoOx?size=64"/><div>MoOx<!-- --> <!-- -->•<!-- --> <!-- -->2019/10/30</div></a><style data-emotion="rpcss 15kxmi0">.rpcss-15kxmi0{max-width:640px;width:100%;font-size:18px;margin:0 auto;line-height:1.7;}.rpcss-15kxmi0 h2,.rpcss-15kxmi0 h3,.rpcss-15kxmi0 h4,.rpcss-15kxmi0 h5,.rpcss-15kxmi0 h6{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-weight:800;line-height:1.2;}.rpcss-15kxmi0 img{max-width:100%;background-color:rgba(255, 255, 255, 0.75);}.rpcss-15kxmi0 code{font-size:0.9em;font-family:PragmataPro,SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:1;background-color:var(--code-background-color);margin:0 0.2em;}.rpcss-15kxmi0 pre{padding:10px;overflow-x:auto;font-size:14px;border-radius:10px;border:2px solid var(--one-percent-contrast-color);-webkit-overflow-scrolling:touch;}.rpcss-15kxmi0 pre code{font-size:14px;background-color:transparent;margin:0;}.rpcss-15kxmi0 blockquote{padding-left:20px;margin:0;font-size:16px;border-left:3px solid var(--one-percent-contrast-color);font-style:italic;}.rpcss-15kxmi0 table{width:100%;text-align:center;}.rpcss-15kxmi0 figure{padding:20px 0;}.rpcss-15kxmi0 figcaption{text-align:center;}.rpcss-15kxmi0 a{word-wrap:break-word;}.rpcss-15kxmi0 table thead th{background-color:var(--page-accented-background-color);padding:10px 0;}</style><div class="rpcss-15kxmi0"><p>Aujourd'hui, il est assez difficile d'imaginer faire des designs web responsive
sans avoir recours aux media queries. Cette idée vieille de 1994, devenue
recommendation du W3C en 2012 (une fois supportée par tous les navigateurs) a
pris son temps et a su s'imposer comme l'outil de référence pour faire du design
adaptatif.</p>
<p>À tel point qu'il parait impossible de faire du responsive sans media query
dans l'imaginaire collectif.</p>
<h2>Pourquoi voudrais-tu faire du responsive sans media query ?</h2>
<p>Il faut pas se le cacher : travailler avec les media queries n'est pas toujours
évident. Cela implique pour chaque &quot;morceau&quot; de votre site ou appli qui va
devoir s'adapter de prévoir un ou plusieurs breakpoints lié à la taille
disponible de votre viewport. Écrire du code lié au viewport pour un &quot;composant&quot;
bas niveau peut paraître clairement étrange.</p>
<p>Ce côté contre intuitif des media queries m'a toujours dérangé : on se retrouve à cibler
une taille d’écran, et non pas de cibler la taille disponible pour un élément
donné.</p>
<p>Lorsque l'on creuse un peu, on tombe souvent sur le concept de &quot;element
query&quot;. Le rêve de tout intégrateur web : ce serait la solution à tous les
problèmes posés par les media queries.</p>
<p>Franchement, écrire du code qui permet à un même composant de se retrouver sur
une même page a 2 endroits mais avec des dimensions différentes ça serait pas
cool ? Pas qu'un peu.</p>
<p>Alors il y a bien quelques techniques à ce jour notamment
<a href="https://emails.hteumeuleu.fr/2016/02/fab-four-emails-responsive-sans-media-queries/">&quot;les fab four&quot;</a>
ou encore des tricks à base de floats ou d'autres trucs plus exotiques, mais
malheureusement ce n'est pas toujours maintenable ou intuitif.</p>
<p>Dans notre monde &quot;moderne&quot; (j'en vois déjà certain cracher sur leur écran),
pourquoi ne pas utiliser JavaScript? (voilà vous pouvez essuyer votre écran).
Sérieusement, on pourrait se dire que dans notre contexte, il pourrait être
pertinent de simuler des elements queries à coup de <code>getBoundingClientRect</code>
accompagné d'un observeur.</p>
<p>Certain dirons que encore une fois
<a href="/articles/tradeoffs">tout est question de compromis</a>.</p>
<p>Mais si on veut faire du rendu côté serveur… Le JavaScript ne sera pas une
bonne solution (oui ça m'arrive de penser à ce concept).</p>
<h2>Comment faire du responsive sans media query</h2>
<p>Rentrons dans le vif du sujet pour celles et ceux qui seraient intéressé·e·s par
cette opportunité. Voici donc quelques astuces et pratiques que je vais vous
livrer.</p>
<p><strong>Note: afin de mieux profiter du rendu des exemples prévus pour écran large,
pensez à consulter les exemples en paysage si vous êtes sur mobile
(ou directement sur CodePen qui offre une option de dézoom).
Bah oui, on fait un article sur le responsive, donc regarder sur mobile des
exemples prévus pour grand écran ça va pas le faire.</strong></p>
<p>Première chose à bien visualiser : nous allons partir du principe que nous
voulons nous contenter de Flexbox. Aujourd'hui supporté par tous les
navigateurs, Flexbox est le candidat idéal à ce jour pour faire du code propre
et maintenable.</p>
<p>Avec Flexbox on peut &quot;juste&quot; faire donc des lignes et des colonnes.</p>
<p>Pour les colonnes, c’est très souvent peu problématique. Tout simplement par ce
que l’on scroll le plus souvent verticalement. Je ne vais donc pas spécialement
aborder cette axe là et me concentrer sur l’axe horizontal. Mais en changeant
d’axe, ces pratiques seront toutes aussi pertinentes selon votre besoin.</p>
<p>Alors que faire ? On commence par quoi ?</p>
<p>On va prendre un exemple très simple où je me retrouve avec une ligne et trois
blocs intérieurs. Dès que c’est possible je veux que ces trois blocs soient sur
une ligne. Par exemple sur un ordinateur de bureau. Ou un iPad. Ou un smartphone
sacrément gros. Ou un smartphone en paysage.</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: flex;&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; height: 50px; background: #fbb;&quot;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; height: 50px; background: #bfb;&quot;</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; height: 50px; background: #bbf;&quot;</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
</code></pre>
<div style="overflow-x: auto">
<iframe
    allowtransparency="true" allowfullscreen="true" scrolling="no" frameborder="no"
    height="300" style="width: 100%; min-width: 600px;"
    title="Responsive without MQs, step 1"
    src="//codepen.io/MoOx/embed/gNjRQr/?height=300&theme-id=light&default-tab=result"  >
</iframe>
</div>
<p>Si on réduit notre exemple on va donc se retrouver avec ceci. Pas ouf.</p>
<div style="overflow-x: auto">
<iframe
    allowtransparency="true" allowfullscreen="true" scrolling="no" frameborder="no"
    height="300" style="width: 100%; max-width: 300px"
    title="Responsive without MQs, step 1"
    src="//codepen.io/MoOx/embed/gNjRQr/?height=300&theme-id=light&default-tab=result"  >
</iframe>
</div>
<p>Partant de ceci ça va être assez simple de faire la première étape. On va
rajouter flex-wrap.</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: flex; flex-wrap: wrap;&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; height: 50px; background: #fbb;&quot;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; height: 50px; background: #bfb;&quot;</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; height: 50px; background: #bbf;&quot;</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
</code></pre>
<div style="overflow-x: auto">
<iframe
    allowtransparency="true" allowfullscreen="true" scrolling="no" frameborder="no"
    height="300" style="width: 100%; max-width: 300px"
    title="Responsive without MQs, step 1.1"
    src="//codepen.io/MoOx/embed/GbBvdv/?height=300&theme-id=light&default-tab=result"  >
</iframe>
</div>
<p>C’est plutôt moche et pas très réaliste. Ajoutons donc un petit peu de contenu,
et un peu d’espace.</p>
<p>Avant qu'on me crache dessus car j'ai mis des div en guise de gouttière, je
souligne que c'est pour le cas d'école.</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: flex; flex-wrap: wrap;&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 10px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; background: #fbb;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Red<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 20px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; background: #bfb;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Green<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 20px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; background: #bbf;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Blue<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 10px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
</code></pre>
<div style="overflow-x: auto">
<iframe
    allowtransparency="true" allowfullscreen="true" scrolling="no" frameborder="no"
    height="300" style="width: 100%; min-width: 600px;"
    title="Responsive without MQs, step 2"
    src="//codepen.io/MoOx/embed/pXZrrx/?height=300&theme-id=light&default-tab=result"  >
</iframe>
</div>
<p>Si on rétrécit l’espace disponible, on aura un rendu qui va tenter de s’adapter
comme il peut.</p>
<div style="overflow-x: auto">
<iframe
    allowtransparency="true" allowfullscreen="true" scrolling="no" frameborder="no"
    height="300" style="width: 100%; max-width: 300px;"
    title="Responsive without MQs, step 2"
    src="//codepen.io/MoOx/embed/pXZrrx/?height=300&theme-id=light&default-tab=result"  >
</iframe>
</div>
<p>Imaginons que ce rendu ne soit pas forcément souhaitable dans notre contexte.
Formulé autrement: <strong>ces marges sont sacrément dégueulasses</strong>.</p>
<p>Pour être précis, elles ne sont pas adaptées à nos contraintes et au rendu que
l’on souhaite avoir : on se retrouve avec un bout de marge perdu à un endroit où
l’on a pas vraiment envie qu’il se trouve.</p>
<p>Du coup comment qu’on fait ?</p>
<p>Petite technique facile à mettre en place et efficace : on va placer des
demi-marges sur le bloc plutôt qu’utiliser le concept de gouttière. Comme ceci :</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: flex; flex-wrap: wrap;&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; padding: 0 10px;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background: #fbb;&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Red<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; padding: 0 10px;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background: #bfb;&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Green<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;flex: 1; padding: 0 10px;&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;background: #bbf;&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Blue<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
</code></pre>
<p>Ce changement n’a aucun impact sur le rendu grand format, mais cela va nous
permettre en petit format d’obtenir le rendu suivant :</p>
<div style="overflow-x: auto">
<iframe
    allowtransparency="true" allowfullscreen="true" scrolling="no" frameborder="no"
    height="300" style="width: 100%; max-width: 300px;"
    title="Responsive without MQs, step 3"
    src="//codepen.io/MoOx/embed/NZBvLB/?height=300&theme-id=light&default-tab=result"  >
</iframe>
</div>
<p>En fonction du contenu intérieur des blocs que vous allez avoir, vous allez
pouvoir utiliser plutôt <code>min-width</code> ou <code>flex-basis</code>. Je vous laisse jouer un peu
avec histoire de vous faire la main.</p>
<blockquote>
<p><a href="https://codepen.io/MoOx/pen/bPjyVm?editors=1100">Codepen un peu plus lisible</a></p>
</blockquote>
<p>En fait je n’ai que cette astuce.</p>
<p>Je plaisante à peine. Car si on ajoute à cela le côté malin de
<code>overflow: hidden</code> pour cacher de l'information optionnelle, on peut faire des
trucs assez puissant.</p>
<p>Regardons ça avec un exemple plus complexe : on va imaginer le header d'un site.</p>
<p>En appliquant cette technique à l’extrême, (ce qui n’est pas une quantité de
travail astronomique, et reste quelque chose de propre et tout à fait
maintenable, surtout avec une approche composant et non document) on peut se
retrouver avec un code très simple, sans media query qui donnerait les rendus suivants :</p>
<div style="overflow-x: auto">
<iframe
    allowtransparency="true" allowfullscreen="true" scrolling="no" frameborder="no"
    height="220" style="width: 100%;"
    title="Responsive without MQs, real world example"
    src="//codepen.io/MoOx/embed/WqKBGm/?height=300&theme-id=light&default-tab=result"  >
</iframe>
</div>
<p><small>Mettez l'exemple ci-dessus avec un zoom à 0.5× pour mieux visualiser</small></p>
<div style="overflow-x: auto">
<iframe
    allowtransparency="true" allowfullscreen="true" scrolling="no" frameborder="no"
    height="220" style="width: 100%; max-width: 360px;"
    title="Responsive without MQs, real world example"
    src="//codepen.io/MoOx/embed/WqKBGm/?height=300&theme-id=light&default-tab=result"  >
</iframe>
</div>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">Header</span>, <span class="hljs-selector-tag">Header</span> * {
  <span class="hljs-attribute">box-sizing</span>: border-box;
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
}

<span class="hljs-selector-class">.Header</span> {
  <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">flex-direction</span>: row;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">align-items</span>: center;
}

  <span class="hljs-selector-class">.Logo</span> {
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">min-width</span>: <span class="hljs-number">80px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">80px</span>;
    <span class="hljs-attribute">flex-direction</span>: row;
    <span class="hljs-attribute">flex-wrap</span>: wrap;
    <span class="hljs-attribute">overflow</span>: hidden;
  }

    <span class="hljs-selector-class">.LogoIcon</span> {
      <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
      <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">64px</span>;
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;
    }

    <span class="hljs-selector-class">.LogoText</span> {
      <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">1</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">font</span>: <span class="hljs-number">900</span> <span class="hljs-number">32px</span> sans-serif;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
    }

  <span class="hljs-selector-class">.Center</span> {
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">flex-basis</span>: <span class="hljs-number">800px</span>;
    <span class="hljs-attribute">flex-direction</span>: row;
    <span class="hljs-attribute">flex-wrap</span>: wrap;
    <span class="hljs-attribute">justify-content</span>: center;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">overflow-x</span>: hidden;
  }

    <span class="hljs-selector-class">.Links</span> {
      <span class="hljs-attribute">flex-direction</span>: row;
      <span class="hljs-attribute">flew-wrap</span>: wrap;
      <span class="hljs-attribute">align-items</span>: center;
      <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">4</span>;
      <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">1</span>;
      <span class="hljs-attribute">min-width</span>: <span class="hljs-number">50%</span>; 
      <span class="hljs-attribute">overflow-x</span>: auto;
    }
  
      <span class="hljs-selector-class">.Link</span> {
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
        <span class="hljs-attribute">font</span>: <span class="hljs-number">600</span> <span class="hljs-number">20px</span> sans-serif;
        <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
        <span class="hljs-attribute">text-decoration</span>: none;
      }

      <span class="hljs-selector-class">.Search</span> {
        <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">200px</span>;
        <span class="hljs-attribute">min-width</span>: <span class="hljs-number">100px</span>;
        <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
        <span class="hljs-attribute">background</span>: <span class="hljs-number">#444</span>;
      }
  
      <span class="hljs-selector-class">.LinkGradient</span> {
        <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;
        <span class="hljs-attribute">position</span>: absolute;
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">40px</span>;
      }
      <span class="hljs-selector-class">.LinkGradient-left</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to left, rgba(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">0</span>), <span class="hljs-built_in">rgba</span>(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">1</span>));
      }
      <span class="hljs-selector-class">.LinkGradient-right</span> {
        <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to right, rgba(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">0</span>), <span class="hljs-built_in">rgba</span>(<span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">51</span>, <span class="hljs-number">1</span>));
      }

    <span class="hljs-selector-class">.Networks</span> {
      <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1.5</span>;
      <span class="hljs-attribute">flex-shrink</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">min-width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">64px</span> * <span class="hljs-number">2</span> + <span class="hljs-number">40px</span>);
      <span class="hljs-attribute">flex-direction</span>: row;
      <span class="hljs-attribute">flex-wrap</span>: wrap;
      <span class="hljs-attribute">max-height</span>: <span class="hljs-number">64px</span>;
    }

      <span class="hljs-selector-class">.Network</span> {
        <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
        <span class="hljs-attribute">justify-content</span>: center;
        <span class="hljs-attribute">align-items</span>: center;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">6px</span>; 
      }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Header&quot;</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Logo&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;LogoIcon&quot;</span>&gt;</span>♥️<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;LogoText&quot;</span>&gt;</span>Logo<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Center&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Links&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Link&quot;</span>&gt;</span>Lien<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Link&quot;</span>&gt;</span>Lideux<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Link&quot;</span>&gt;</span>Limoche<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Link&quot;</span>&gt;</span>Libeau<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;Search&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Search&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Networks&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Network&quot;</span>&gt;</span>👴<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Network&quot;</span>&gt;</span>🐦<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Network&quot;</span>&gt;</span>📸<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;Network&quot;</span>&gt;</span>📌<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;LinkGradient LinkGradient-left&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;LinkGradient LinkGradient-right&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
</code></pre>
<blockquote>
<p><a href="https://codepen.io/MoOx/pen/WqKBGm">Code de cette example sur Codepen</a></p>
</blockquote>
<p>Vous allez me dire &quot;mais ton exemple il est pas fou là&quot;, et vous avez pas tort.
Je pense que cela dit, vous avez l'idée en étudiant le code.</p>
<p>Des exemples de ce type-là, surtout en exploitant bien <code>flex-basis</code>, peuvent se
révéler extrêmement puissants. On peut très bien se contenter de ça. Après comme
souvent lorsqu’on a des besoins plus complexes, il sera à vous de juger si
continuer à utiliser cette technique est pertinent, ou s’il est plus judicieux
d’utiliser des media queries afin d’éviter de vous défoncer le cerveau. Ou alors de faire
du rendu conditionnel avec JavaScript si votre platforme vous le permet.</p>
<p>Cette technique est aussi intéressante dans un contexte où les media queries ne
sont pas accessibles. Ce peut être le cas si vous utilisez un framework ou une
lib qui ne propose qu’un sous-ensemble de CSS, comme React Native, qui vous
limitera dans l'ensemble à Flexbox et position absolute pour gérer votre
layout.</p>
<p>On peut aussi se retrouver à utiliser le même moteur que React Native sur
plusieurs plateformes directement avec <a href="http://yogalayout.com">Yoga</a> ou
<a href="https://vislyhq.github.io/stretch/">Stretch</a>.</p>
<p>On pourrait aussi avoir la même envie si on se retrouve dans un contexte Web où
CSS serait utilisable, mais où l’on se retrouve avec une abstraction qui ne
permet pas de les intégrer simplement. Vous allez peut-être répondre : « mais il
est fou ? Il se fait du mal ».</p>
<p>Peut-être un peu. À moins qu’une des contraintes choisies soit de partager du
code entre différentes plates-formes (coucou
<a href="https://github.com/necolas/react-native-web">react-native-web</a>,
<a href="https://github.com/microsoft/react-native-windows">react-native-windows</a>,
<a href="https://github.com/ptmt/react-native-macos">react-native-macos</a>…) afin
d'éviter de faire une grosse app qui te bouffe bien la RAM car basé sur Electron
(coucou Slack).</p>
<p>Dans tous les cas, media query disponible ou pas, cette astuce est pour moi
bien plus que ça puisque c'est devenu ma principale méthode pour faire du
responsive, faisant beaucoup d'appli React Native et/ou React Native Web.</p>
<p>Rien que pouvoir avoir le même composant produisant différents rendus sur un
même écran (en fonction de la taille disponible par son parent), ça devrait vous
donner envie !</p>
<pre><code class="hljs language-reason"><span class="hljs-literal">[|</span><span class="hljs-string">&quot;Bisous&quot;</span>, <span class="hljs-string">&quot;À la prochaine&quot;</span><span class="hljs-literal">|]</span>
<span class="hljs-operator">|&gt;</span> <span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">Array</span>.joinWith(<span class="hljs-string">&quot; et &quot;</span>)
<span class="hljs-operator">|&gt;</span> <span class="hljs-module-identifier">Js</span>.log;
</code></pre>
</div><style data-emotion="rpcss unyj6i">.rpcss-unyj6i{max-width:640px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:20px auto;padding:20px;background-color:var(--page-background-color);border-radius:10px;box-shadow:0 15px 15px -5px rgba(0, 0, 0, 0.2);}@media (max-width: 540px){.rpcss-unyj6i{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="rpcss-unyj6i"><style data-emotion="rpcss ty7r4z">.rpcss-ty7r4z{font-weight:800;}</style><div class="rpcss-ty7r4z">Vous avez aimé cet article?</div><style data-emotion="rpcss klacsp">.rpcss-klacsp{width:0;height:10px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}</style><div class="rpcss-klacsp"></div><style data-emotion="rpcss 1pkr03v">.rpcss-1pkr03v{background-color:#00aced;color:#fff;padding:10px 20px;-webkit-text-decoration:none;text-decoration:none;border-radius:5px;font-weight:800;}.rpcss-1pkr03v:active{opacity:0.5;}</style><a class="rpcss-1pkr03v" href="https://www.twitter.com/intent/tweet?text=Du%20responsive%20sans%20media%20queries%20sur%20%40PutainDeCode%20https%3A%2F%2Fputaindecode.io%2Farticles%2Fresponsive-sans-media-queries" target="_blank">Le partager sur Twitter</a></div><style data-emotion="rpcss x4iqxe">.rpcss-x4iqxe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center;padding:20px;}</style><div class="rpcss-x4iqxe"><style data-emotion="rpcss gein6x">.rpcss-gein6x{font-size:20px;-webkit-text-decoration:none;text-decoration:none;color:#1E49B5;}</style><a class="rpcss-gein6x" href="/articles">← Articles</a></div><style data-emotion="rpcss 8bodgl">.rpcss-8bodgl{max-width:640px;width:100%;margin:0 auto;padding:20px 0;}</style><div class="rpcss-8bodgl" id="disqus_thread"></div></div></div></div></div><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 1vau6rl">.rpcss-1vau6rl{margin:20px 0;background-color:var(--page-accented-background-color);border-radius:10px;padding:20px;}</style><div class="rpcss-1vau6rl"><style data-emotion="rpcss 1gz1i1h">.rpcss-1gz1i1h{font-size:32px;font-weight:800;margin-bottom:20px;text-align:center;}</style><div aria-level="2" class="rpcss-1gz1i1h" role="heading">Ne rien rater</div><style data-emotion="rpcss 1wbispj">.rpcss-1wbispj{font-size:18px;margin-bottom:10px;text-align:center;}</style><div aria-level="3" class="rpcss-1wbispj" role="heading">Sur les réseaux</div><style data-emotion="rpcss 1hyoz7m">.rpcss-1hyoz7m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}</style><div class="rpcss-1hyoz7m"><a href="https://twitter.com/PutainDeCode"><img alt="Twitter" height="48" src="/public/images/website/twitter.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://facebook.com/putaindecode"><img alt="Facebook" height="48" src="/public/images/website/facebook.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://github.com/putaindecode"><img alt="Facebook" height="48" src="/public/images/website/github.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://itunes.apple.com/fr/podcast/putain-de-code-!/id1185311825"><img alt="Apple Podcast" height="48" src="/public/images/website/apple-podcast.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://soundcloud.com/putaindecode"><img alt="Soundcloud" height="48" src="/public/images/website/soundcloud.svg" width="48"/></a></div><div aria-level="3" class="rpcss-1wbispj" role="heading">Sur le chat</div><div class="rpcss-1hyoz7m"><a href="https://discord.gg/jtbGNNc"><img alt="Discord" height="48" src="/public/images/website/discord.svg" width="48"/></a></div></div></div></div><style data-emotion="rpcss zs8kw7">.rpcss-zs8kw7{background-color:#222;padding:20px 0;}</style><footer class="rpcss-zs8kw7"><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 79elbk">.rpcss-79elbk{position:relative;}</style><div class="rpcss-79elbk"><style data-emotion="rpcss 1hle0ni">.rpcss-1hle0ni{position:absolute;left:0;top:50%;color:#fff;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a class="rpcss-1hle0ni" href="/api/articles/feeds/desc/feed.xml"><style data-emotion="rpcss lvyu5j">.rpcss-lvyu5j{margin-right:10px;}</style><img class="rpcss-lvyu5j" alt="Flux RSS" height="16" src="/public/images/website/rss-feed.svg" width="16"/><style data-emotion="rpcss um3i31">@media (max-width: 400px){.rpcss-um3i31{display:none;}}</style><div class="rpcss-um3i31">Flux RSS</div></a><style data-emotion="rpcss 12cp4l7">.rpcss-12cp4l7{color:rgba(255, 255, 255, 0.5);text-align:center;font-size:14px;}</style><div class="rpcss-12cp4l7">© 2021 Putain de code !</div><style data-emotion="rpcss 1w98uy3">.rpcss-1w98uy3{position:absolute;right:0;top:50%;color:#fff;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a class="rpcss-1w98uy3" href="https://github.com/putaindecode/putaindecode.io">GitHub</a></div></div></div></footer></div><script id="initialData" type="text/data">{"lists":{"RE_PRIVATE_NONE":true},"items":{"k":"articles","v":{"k":"responsive-sans-media-queries","v":{"_0":{"TAG":0,"_0":{"slug":"responsive-sans-media-queries","filename":"2019-10-30-responsive-sans-media-queries","title":"Du responsive sans media queries","date":"Wed, 30 Oct 2019 00:00:00 GMT","draft":false,"meta":{"date":"2019-10-30T00:00:00.000Z","title":"Du responsive sans media queries","author":"MoOx","slug":"responsive-sans-media-queries"},"body":"<p>Aujourd'hui, il est assez difficile d'imaginer faire des designs web responsive\nsans avoir recours aux media queries. Cette idée vieille de 1994, devenue\nrecommendation du W3C en 2012 (une fois supportée par tous les navigateurs) a\npris son temps et a su s'imposer comme l'outil de référence pour faire du design\nadaptatif.</p>\n<p>À tel point qu'il parait impossible de faire du responsive sans media query\ndans l'imaginaire collectif.</p>\n<h2>Pourquoi voudrais-tu faire du responsive sans media query ?</h2>\n<p>Il faut pas se le cacher : travailler avec les media queries n'est pas toujours\névident. Cela implique pour chaque &quot;morceau&quot; de votre site ou appli qui va\ndevoir s'adapter de prévoir un ou plusieurs breakpoints lié à la taille\ndisponible de votre viewport. Écrire du code lié au viewport pour un &quot;composant&quot;\nbas niveau peut paraître clairement étrange.</p>\n<p>Ce côté contre intuitif des media queries m'a toujours dérangé : on se retrouve à cibler\nune taille d’écran, et non pas de cibler la taille disponible pour un élément\ndonné.</p>\n<p>Lorsque l'on creuse un peu, on tombe souvent sur le concept de &quot;element\nquery&quot;. Le rêve de tout intégrateur web : ce serait la solution à tous les\nproblèmes posés par les media queries.</p>\n<p>Franchement, écrire du code qui permet à un même composant de se retrouver sur\nune même page a 2 endroits mais avec des dimensions différentes ça serait pas\ncool ? Pas qu'un peu.</p>\n<p>Alors il y a bien quelques techniques à ce jour notamment\n<a href=\"https://emails.hteumeuleu.fr/2016/02/fab-four-emails-responsive-sans-media-queries/\">&quot;les fab four&quot;</a>\nou encore des tricks à base de floats ou d'autres trucs plus exotiques, mais\nmalheureusement ce n'est pas toujours maintenable ou intuitif.</p>\n<p>Dans notre monde &quot;moderne&quot; (j'en vois déjà certain cracher sur leur écran),\npourquoi ne pas utiliser JavaScript? (voilà vous pouvez essuyer votre écran).\nSérieusement, on pourrait se dire que dans notre contexte, il pourrait être\npertinent de simuler des elements queries à coup de <code>getBoundingClientRect</code>\naccompagné d'un observeur.</p>\n<p>Certain dirons que encore une fois\n<a href=\"/articles/tradeoffs\">tout est question de compromis</a>.</p>\n<p>Mais si on veut faire du rendu côté serveur… Le JavaScript ne sera pas une\nbonne solution (oui ça m'arrive de penser à ce concept).</p>\n<h2>Comment faire du responsive sans media query</h2>\n<p>Rentrons dans le vif du sujet pour celles et ceux qui seraient intéressé·e·s par\ncette opportunité. Voici donc quelques astuces et pratiques que je vais vous\nlivrer.</p>\n<p><strong>Note: afin de mieux profiter du rendu des exemples prévus pour écran large,\npensez à consulter les exemples en paysage si vous êtes sur mobile\n(ou directement sur CodePen qui offre une option de dézoom).\nBah oui, on fait un article sur le responsive, donc regarder sur mobile des\nexemples prévus pour grand écran ça va pas le faire.</strong></p>\n<p>Première chose à bien visualiser : nous allons partir du principe que nous\nvoulons nous contenter de Flexbox. Aujourd'hui supporté par tous les\nnavigateurs, Flexbox est le candidat idéal à ce jour pour faire du code propre\net maintenable.</p>\n<p>Avec Flexbox on peut &quot;juste&quot; faire donc des lignes et des colonnes.</p>\n<p>Pour les colonnes, c’est très souvent peu problématique. Tout simplement par ce\nque l’on scroll le plus souvent verticalement. Je ne vais donc pas spécialement\naborder cette axe là et me concentrer sur l’axe horizontal. Mais en changeant\nd’axe, ces pratiques seront toutes aussi pertinentes selon votre besoin.</p>\n<p>Alors que faire ? On commence par quoi ?</p>\n<p>On va prendre un exemple très simple où je me retrouve avec une ligne et trois\nblocs intérieurs. Dès que c’est possible je veux que ces trois blocs soient sur\nune ligne. Par exemple sur un ordinateur de bureau. Ou un iPad. Ou un smartphone\nsacrément gros. Ou un smartphone en paysage.</p>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">section</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;display: flex;&quot;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; height: 50px; background: #fbb;&quot;</span>&gt;</span>1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; height: 50px; background: #bfb;&quot;</span>&gt;</span>2<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; height: 50px; background: #bbf;&quot;</span>&gt;</span>3<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">section</span>&gt;</span>\n</code></pre>\n<div style=\"overflow-x: auto\">\n<iframe\n    allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" frameborder=\"no\"\n    height=\"300\" style=\"width: 100%; min-width: 600px;\"\n    title=\"Responsive without MQs, step 1\"\n    src=\"//codepen.io/MoOx/embed/gNjRQr/?height=300&theme-id=light&default-tab=result\"  >\n</iframe>\n</div>\n<p>Si on réduit notre exemple on va donc se retrouver avec ceci. Pas ouf.</p>\n<div style=\"overflow-x: auto\">\n<iframe\n    allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" frameborder=\"no\"\n    height=\"300\" style=\"width: 100%; max-width: 300px\"\n    title=\"Responsive without MQs, step 1\"\n    src=\"//codepen.io/MoOx/embed/gNjRQr/?height=300&theme-id=light&default-tab=result\"  >\n</iframe>\n</div>\n<p>Partant de ceci ça va être assez simple de faire la première étape. On va\nrajouter flex-wrap.</p>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">section</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;display: flex; flex-wrap: wrap;&quot;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; height: 50px; background: #fbb;&quot;</span>&gt;</span>1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; height: 50px; background: #bfb;&quot;</span>&gt;</span>2<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; height: 50px; background: #bbf;&quot;</span>&gt;</span>3<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">section</span>&gt;</span>\n</code></pre>\n<div style=\"overflow-x: auto\">\n<iframe\n    allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" frameborder=\"no\"\n    height=\"300\" style=\"width: 100%; max-width: 300px\"\n    title=\"Responsive without MQs, step 1.1\"\n    src=\"//codepen.io/MoOx/embed/GbBvdv/?height=300&theme-id=light&default-tab=result\"  >\n</iframe>\n</div>\n<p>C’est plutôt moche et pas très réaliste. Ajoutons donc un petit peu de contenu,\net un peu d’espace.</p>\n<p>Avant qu'on me crache dessus car j'ai mis des div en guise de gouttière, je\nsouligne que c'est pour le cas d'école.</p>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">section</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;display: flex; flex-wrap: wrap;&quot;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 10px;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; background: #fbb;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Red<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">article</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 20px;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; background: #bfb;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Green<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">article</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 20px;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; background: #bbf;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Blue<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">article</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 10px;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">section</span>&gt;</span>\n</code></pre>\n<div style=\"overflow-x: auto\">\n<iframe\n    allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" frameborder=\"no\"\n    height=\"300\" style=\"width: 100%; min-width: 600px;\"\n    title=\"Responsive without MQs, step 2\"\n    src=\"//codepen.io/MoOx/embed/pXZrrx/?height=300&theme-id=light&default-tab=result\"  >\n</iframe>\n</div>\n<p>Si on rétrécit l’espace disponible, on aura un rendu qui va tenter de s’adapter\ncomme il peut.</p>\n<div style=\"overflow-x: auto\">\n<iframe\n    allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" frameborder=\"no\"\n    height=\"300\" style=\"width: 100%; max-width: 300px;\"\n    title=\"Responsive without MQs, step 2\"\n    src=\"//codepen.io/MoOx/embed/pXZrrx/?height=300&theme-id=light&default-tab=result\"  >\n</iframe>\n</div>\n<p>Imaginons que ce rendu ne soit pas forcément souhaitable dans notre contexte.\nFormulé autrement: <strong>ces marges sont sacrément dégueulasses</strong>.</p>\n<p>Pour être précis, elles ne sont pas adaptées à nos contraintes et au rendu que\nl’on souhaite avoir : on se retrouve avec un bout de marge perdu à un endroit où\nl’on a pas vraiment envie qu’il se trouve.</p>\n<p>Du coup comment qu’on fait ?</p>\n<p>Petite technique facile à mettre en place et efficace : on va placer des\ndemi-marges sur le bloc plutôt qu’utiliser le concept de gouttière. Comme ceci :</p>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">section</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;display: flex; flex-wrap: wrap;&quot;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; padding: 0 10px;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;background: #fbb;&quot;</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Red<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">article</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; padding: 0 10px;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;background: #bfb;&quot;</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Green<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">article</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;flex: 1; padding: 0 10px;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">article</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;background: #bbf;&quot;</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;margin: 0; padding: 20px; font: 900 64px monospace;&quot;</span>&gt;</span>Blue<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">article</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">section</span>&gt;</span>\n</code></pre>\n<p>Ce changement n’a aucun impact sur le rendu grand format, mais cela va nous\npermettre en petit format d’obtenir le rendu suivant :</p>\n<div style=\"overflow-x: auto\">\n<iframe\n    allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" frameborder=\"no\"\n    height=\"300\" style=\"width: 100%; max-width: 300px;\"\n    title=\"Responsive without MQs, step 3\"\n    src=\"//codepen.io/MoOx/embed/NZBvLB/?height=300&theme-id=light&default-tab=result\"  >\n</iframe>\n</div>\n<p>En fonction du contenu intérieur des blocs que vous allez avoir, vous allez\npouvoir utiliser plutôt <code>min-width</code> ou <code>flex-basis</code>. Je vous laisse jouer un peu\navec histoire de vous faire la main.</p>\n<blockquote>\n<p><a href=\"https://codepen.io/MoOx/pen/bPjyVm?editors=1100\">Codepen un peu plus lisible</a></p>\n</blockquote>\n<p>En fait je n’ai que cette astuce.</p>\n<p>Je plaisante à peine. Car si on ajoute à cela le côté malin de\n<code>overflow: hidden</code> pour cacher de l'information optionnelle, on peut faire des\ntrucs assez puissant.</p>\n<p>Regardons ça avec un exemple plus complexe : on va imaginer le header d'un site.</p>\n<p>En appliquant cette technique à l’extrême, (ce qui n’est pas une quantité de\ntravail astronomique, et reste quelque chose de propre et tout à fait\nmaintenable, surtout avec une approche composant et non document) on peut se\nretrouver avec un code très simple, sans media query qui donnerait les rendus suivants :</p>\n<div style=\"overflow-x: auto\">\n<iframe\n    allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" frameborder=\"no\"\n    height=\"220\" style=\"width: 100%;\"\n    title=\"Responsive without MQs, real world example\"\n    src=\"//codepen.io/MoOx/embed/WqKBGm/?height=300&theme-id=light&default-tab=result\"  >\n</iframe>\n</div>\n<p><small>Mettez l'exemple ci-dessus avec un zoom à 0.5× pour mieux visualiser</small></p>\n<div style=\"overflow-x: auto\">\n<iframe\n    allowtransparency=\"true\" allowfullscreen=\"true\" scrolling=\"no\" frameborder=\"no\"\n    height=\"220\" style=\"width: 100%; max-width: 360px;\"\n    title=\"Responsive without MQs, real world example\"\n    src=\"//codepen.io/MoOx/embed/WqKBGm/?height=300&theme-id=light&default-tab=result\"  >\n</iframe>\n</div>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">style</span>&gt;</span><span class=\"css\">\n<span class=\"hljs-selector-tag\">Header</span>, <span class=\"hljs-selector-tag\">Header</span> * {\n  <span class=\"hljs-attribute\">box-sizing</span>: border-box;\n  <span class=\"hljs-attribute\">position</span>: relative;\n  <span class=\"hljs-attribute\">display</span>: flex;\n  <span class=\"hljs-attribute\">flex-direction</span>: column;\n}\n\n<span class=\"hljs-selector-class\">.Header</span> {\n  <span class=\"hljs-attribute\">flex-grow</span>: <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-attribute\">flex-shrink</span>: <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-attribute\">flex-direction</span>: row;\n  <span class=\"hljs-attribute\">background</span>: <span class=\"hljs-number\">#333</span>;\n  <span class=\"hljs-attribute\">align-items</span>: center;\n}\n\n  <span class=\"hljs-selector-class\">.Logo</span> {\n    <span class=\"hljs-attribute\">flex-grow</span>: <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-attribute\">flex-shrink</span>: <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-attribute\">min-width</span>: <span class=\"hljs-number\">80px</span>;\n    <span class=\"hljs-attribute\">height</span>: <span class=\"hljs-number\">80px</span>;\n    <span class=\"hljs-attribute\">flex-direction</span>: row;\n    <span class=\"hljs-attribute\">flex-wrap</span>: wrap;\n    <span class=\"hljs-attribute\">overflow</span>: hidden;\n  }\n\n    <span class=\"hljs-selector-class\">.LogoIcon</span> {\n      <span class=\"hljs-attribute\">flex-grow</span>: <span class=\"hljs-number\">1</span>;\n      <span class=\"hljs-attribute\">flex-shrink</span>: <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-attribute\">font-size</span>: <span class=\"hljs-number\">64px</span>;\n      <span class=\"hljs-attribute\">text-align</span>: center;\n      <span class=\"hljs-attribute\">padding</span>: <span class=\"hljs-number\">0</span> <span class=\"hljs-number\">10px</span>;\n    }\n\n    <span class=\"hljs-selector-class\">.LogoText</span> {\n      <span class=\"hljs-attribute\">flex-grow</span>: <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-attribute\">flex-shrink</span>: <span class=\"hljs-number\">1</span>;\n      <span class=\"hljs-attribute\">margin</span>: <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-attribute\">padding</span>: <span class=\"hljs-number\">20px</span>;\n      <span class=\"hljs-attribute\">font</span>: <span class=\"hljs-number\">900</span> <span class=\"hljs-number\">32px</span> sans-serif;\n      <span class=\"hljs-attribute\">color</span>: <span class=\"hljs-number\">#fff</span>;\n    }\n\n  <span class=\"hljs-selector-class\">.Center</span> {\n    <span class=\"hljs-attribute\">flex-grow</span>: <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-attribute\">flex-shrink</span>: <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-attribute\">flex-basis</span>: <span class=\"hljs-number\">800px</span>;\n    <span class=\"hljs-attribute\">flex-direction</span>: row;\n    <span class=\"hljs-attribute\">flex-wrap</span>: wrap;\n    <span class=\"hljs-attribute\">justify-content</span>: center;\n    <span class=\"hljs-attribute\">align-items</span>: center;\n    <span class=\"hljs-attribute\">overflow-x</span>: hidden;\n  }\n\n    <span class=\"hljs-selector-class\">.Links</span> {\n      <span class=\"hljs-attribute\">flex-direction</span>: row;\n      <span class=\"hljs-attribute\">flew-wrap</span>: wrap;\n      <span class=\"hljs-attribute\">align-items</span>: center;\n      <span class=\"hljs-attribute\">flex-grow</span>: <span class=\"hljs-number\">4</span>;\n      <span class=\"hljs-attribute\">flex-shrink</span>: <span class=\"hljs-number\">1</span>;\n      <span class=\"hljs-attribute\">min-width</span>: <span class=\"hljs-number\">50%</span>; \n      <span class=\"hljs-attribute\">overflow-x</span>: auto;\n    }\n  \n      <span class=\"hljs-selector-class\">.Link</span> {\n        <span class=\"hljs-attribute\">margin</span>: <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-attribute\">padding</span>: <span class=\"hljs-number\">20px</span>;\n        <span class=\"hljs-attribute\">font</span>: <span class=\"hljs-number\">600</span> <span class=\"hljs-number\">20px</span> sans-serif;\n        <span class=\"hljs-attribute\">color</span>: <span class=\"hljs-number\">#fff</span>;\n        <span class=\"hljs-attribute\">text-decoration</span>: none;\n      }\n\n      <span class=\"hljs-selector-class\">.Search</span> {\n        <span class=\"hljs-attribute\">flex</span>: <span class=\"hljs-number\">1</span>;\n        <span class=\"hljs-attribute\">max-width</span>: <span class=\"hljs-number\">200px</span>;\n        <span class=\"hljs-attribute\">min-width</span>: <span class=\"hljs-number\">100px</span>;\n        <span class=\"hljs-attribute\">border</span>: <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-attribute\">border-radius</span>: <span class=\"hljs-number\">6px</span>;\n        <span class=\"hljs-attribute\">padding</span>: <span class=\"hljs-number\">10px</span> <span class=\"hljs-number\">20px</span>;\n        <span class=\"hljs-attribute\">margin</span>: <span class=\"hljs-number\">10px</span> <span class=\"hljs-number\">20px</span>;\n        <span class=\"hljs-attribute\">font-size</span>: <span class=\"hljs-number\">20px</span>;\n        <span class=\"hljs-attribute\">background</span>: <span class=\"hljs-number\">#444</span>;\n      }\n  \n      <span class=\"hljs-selector-class\">.LinkGradient</span> {\n        <span class=\"hljs-attribute\">content</span>: <span class=\"hljs-string\">&quot;&quot;</span>;\n        <span class=\"hljs-attribute\">position</span>: absolute;\n        <span class=\"hljs-attribute\">top</span>: <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-attribute\">bottom</span>: <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-attribute\">width</span>: <span class=\"hljs-number\">40px</span>;\n      }\n      <span class=\"hljs-selector-class\">.LinkGradient-left</span> {\n        <span class=\"hljs-attribute\">left</span>: <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-attribute\">background</span>: <span class=\"hljs-built_in\">linear-gradient</span>(to left, rgba(<span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">0</span>), <span class=\"hljs-built_in\">rgba</span>(<span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">1</span>));\n      }\n      <span class=\"hljs-selector-class\">.LinkGradient-right</span> {\n        <span class=\"hljs-attribute\">right</span>: <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-attribute\">background</span>: <span class=\"hljs-built_in\">linear-gradient</span>(to right, rgba(<span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">0</span>), <span class=\"hljs-built_in\">rgba</span>(<span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">51</span>, <span class=\"hljs-number\">1</span>));\n      }\n\n    <span class=\"hljs-selector-class\">.Networks</span> {\n      <span class=\"hljs-attribute\">flex-grow</span>: <span class=\"hljs-number\">1.5</span>;\n      <span class=\"hljs-attribute\">flex-shrink</span>: <span class=\"hljs-number\">0</span>;\n      <span class=\"hljs-attribute\">min-width</span>: <span class=\"hljs-built_in\">calc</span>(<span class=\"hljs-number\">64px</span> * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">40px</span>);\n      <span class=\"hljs-attribute\">flex-direction</span>: row;\n      <span class=\"hljs-attribute\">flex-wrap</span>: wrap;\n      <span class=\"hljs-attribute\">max-height</span>: <span class=\"hljs-number\">64px</span>;\n    }\n\n      <span class=\"hljs-selector-class\">.Network</span> {\n        <span class=\"hljs-attribute\">flex-grow</span>: <span class=\"hljs-number\">1</span>;\n        <span class=\"hljs-attribute\">justify-content</span>: center;\n        <span class=\"hljs-attribute\">align-items</span>: center;\n        <span class=\"hljs-attribute\">padding</span>: <span class=\"hljs-number\">10px</span> <span class=\"hljs-number\">6px</span>; \n      }\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">header</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Header&quot;</span>&gt;</span>\n  \n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Logo&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;LogoIcon&quot;</span>&gt;</span>♥️<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;LogoText&quot;</span>&gt;</span>Logo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Center&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Links&quot;</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;#&quot;</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Link&quot;</span>&gt;</span>Lien<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;#&quot;</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Link&quot;</span>&gt;</span>Lideux<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;#&quot;</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Link&quot;</span>&gt;</span>Limoche<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;#&quot;</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Link&quot;</span>&gt;</span>Libeau<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;Search&quot;</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Search&quot;</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Networks&quot;</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Network&quot;</span>&gt;</span>👴<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Network&quot;</span>&gt;</span>🐦<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Network&quot;</span>&gt;</span>📸<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;Network&quot;</span>&gt;</span>📌<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    \n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;LinkGradient LinkGradient-left&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;LinkGradient LinkGradient-right&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">header</span>&gt;</span>\n</code></pre>\n<blockquote>\n<p><a href=\"https://codepen.io/MoOx/pen/WqKBGm\">Code de cette example sur Codepen</a></p>\n</blockquote>\n<p>Vous allez me dire &quot;mais ton exemple il est pas fou là&quot;, et vous avez pas tort.\nJe pense que cela dit, vous avez l'idée en étudiant le code.</p>\n<p>Des exemples de ce type-là, surtout en exploitant bien <code>flex-basis</code>, peuvent se\nrévéler extrêmement puissants. On peut très bien se contenter de ça. Après comme\nsouvent lorsqu’on a des besoins plus complexes, il sera à vous de juger si\ncontinuer à utiliser cette technique est pertinent, ou s’il est plus judicieux\nd’utiliser des media queries afin d’éviter de vous défoncer le cerveau. Ou alors de faire\ndu rendu conditionnel avec JavaScript si votre platforme vous le permet.</p>\n<p>Cette technique est aussi intéressante dans un contexte où les media queries ne\nsont pas accessibles. Ce peut être le cas si vous utilisez un framework ou une\nlib qui ne propose qu’un sous-ensemble de CSS, comme React Native, qui vous\nlimitera dans l'ensemble à Flexbox et position absolute pour gérer votre\nlayout.</p>\n<p>On peut aussi se retrouver à utiliser le même moteur que React Native sur\nplusieurs plateformes directement avec <a href=\"http://yogalayout.com\">Yoga</a> ou\n<a href=\"https://vislyhq.github.io/stretch/\">Stretch</a>.</p>\n<p>On pourrait aussi avoir la même envie si on se retrouve dans un contexte Web où\nCSS serait utilisable, mais où l’on se retrouve avec une abstraction qui ne\npermet pas de les intégrer simplement. Vous allez peut-être répondre : « mais il\nest fou ? Il se fait du mal ».</p>\n<p>Peut-être un peu. À moins qu’une des contraintes choisies soit de partager du\ncode entre différentes plates-formes (coucou\n<a href=\"https://github.com/necolas/react-native-web\">react-native-web</a>,\n<a href=\"https://github.com/microsoft/react-native-windows\">react-native-windows</a>,\n<a href=\"https://github.com/ptmt/react-native-macos\">react-native-macos</a>…) afin\nd'éviter de faire une grosse app qui te bouffe bien la RAM car basé sur Electron\n(coucou Slack).</p>\n<p>Dans tous les cas, media query disponible ou pas, cette astuce est pour moi\nbien plus que ça puisque c'est devenu ma principale méthode pour faire du\nresponsive, faisant beaucoup d'appli React Native et/ou React Native Web.</p>\n<p>Rien que pouvoir avoir le même composant produisant différents rendus sur un\nmême écran (en fonction de la taille disponible par son parent), ça devrait vous\ndonner envie !</p>\n<pre><code class=\"hljs language-reason\"><span class=\"hljs-literal\">[|</span><span class=\"hljs-string\">&quot;Bisous&quot;</span>, <span class=\"hljs-string\">&quot;À la prochaine&quot;</span><span class=\"hljs-literal\">|]</span>\n<span class=\"hljs-operator\">|&gt;</span> <span class=\"hljs-module-identifier\">Js</span>.<span class=\"hljs-module-identifier\">Array</span>.joinWith(<span class=\"hljs-string\">&quot; et &quot;</span>)\n<span class=\"hljs-operator\">|&gt;</span> <span class=\"hljs-module-identifier\">Js</span>.log;\n</code></pre>\n"}}},"h":1,"l":{"RE_PRIVATE_NONE":true},"r":{"RE_PRIVATE_NONE":true}},"h":1,"l":{"RE_PRIVATE_NONE":true},"r":{"RE_PRIVATE_NONE":true}},"listsRequests":{"data":{"RE_PRIVATE_NONE":true}},"itemsRequests":{"data":{"RE_PRIVATE_NONE":true}}}</script><head><script defer="defer" src="/public/main.56c69761a03eb0112696.js"></script></head></html>