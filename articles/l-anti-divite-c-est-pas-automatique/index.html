<!DOCTYPE html><html lang="fr"><head><title data-react-helmet="true">L&#x27;anti-divite, c&#x27;est pas automatique | Putain de code</title><meta data-react-helmet="true" charset="UTF-8"/><meta data-react-helmet="true" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover" name="viewport"/><meta data-react-helmet="true" content="summary_large_image" name="twitter:card"/><meta data-react-helmet="true" content="Putain de code !" property="og:site_name"/><meta data-react-helmet="true" content="@putaindecode" name="twitter:site"/><meta data-react-helmet="true" content="https://putaindecode.io/public/images/website/share.jpg" property="og:image"/><meta data-react-helmet="true" content="https://putaindecode.io/public/images/website/share.jpg" name="twitter:image"/><meta data-react-helmet="true" content="1500" property="og:image:width"/><meta data-react-helmet="true" content="777" property="og:image:height"/><meta data-react-helmet="true" content="L&#x27;anti-divite, c&#x27;est pas automatique | Putain de code" property="og:title"/><meta data-react-helmet="true" content="L&#x27;anti-divite, c&#x27;est pas automatique | Putain de code" name="twitter:title"/><meta data-react-helmet="true" content="Un article proposé par bloodyowl" name="description"/><link data-react-helmet="true" title="RSS Feed" href="/api/articles/feeds/desc/feed.xml" rel="alternate" type="application/rss+xml"/><link data-react-helmet="true" href="/favicon.ico" rel="shortcut icon"/><link data-react-helmet="true" href="https://putaindecode.io/articles/l-anti-divite-c-est-pas-automatique" rel="canonical"/><script>window.PAGES_BOOT_MODE="hydrate";</script></head><div id="root"><style data-emotion="rpcss zx73cm 1lc6tyj 28v1b4">@-webkit-keyframes animation-zx73cm{from{opacity:0;-webkit-transform:translateY(20px);-moz-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}}@keyframes animation-zx73cm{from{opacity:0;-webkit-transform:translateY(20px);-moz-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}}:root{--page-background-color:#fff;--page-slightly-accented-background-color:#F9F6F6;--page-accented-background-color:#E4EBEE;--page-text-color:#46515B;--link-text-color:#E51D58;--gradient-red-top:#E51D58;--gradient-red-bottom:#CC0613;--code-background-color:#FAF3E1;--one-percent-contrast-color:rgba(0, 0, 0, 0.1);--half-percent-contrast-color:rgba(0, 0, 0, 0.05);}@media (prefers-color-scheme: dark){:root{--page-background-color:#222;--page-slightly-accented-background-color:#171717;--page-accented-background-color:#111;--page-text-color:#ddd;--link-text-color:#F87098;--gradient-red-top:#E51D58;--gradient-red-bottom:#CC0613;--code-background-color:#4F3804;--one-percent-contrast-color:rgba(255, 255, 255, 0.1);--half-percent-contrast-color:rgba(255, 255, 255, 0.05);}}body{padding:0;margin:0;background-color:var(--page-background-color);color:var(--page-text-color);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;overflow-x:hidden;}html{font-size:1em;line-height:1.4;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;}a{color:var(--link-text-color);-webkit-text-decoration:underline;text-decoration:underline;}a:hover{-webkit-text-decoration:none;text-decoration:none;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}*,*:before,*:after{box-sizing:border-box;}pre,.hljs{color:#adbac7;background:#22272e;}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067;}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb;}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-variable,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id{color:#6cb6ff;}.hljs-regexp,.hljs-string,.hljs-meta .hljs-string{color:#96d0ff;}.hljs-built_in,.hljs-symbol{color:#f69d50;}.hljs-comment,.hljs-code,.hljs-formula{color:#768390;}.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo{color:#8ddb8c;}.hljs-subst{color:#adbac7;}.hljs-section{color:#316dca;font-weight:bold;}.hljs-bullet{color:#eac55f;}.hljs-emphasis{color:#adbac7;font-style:italic;}.hljs-strong{color:#adbac7;font-weight:bold;}.hljs-addition{color:#b4f1b4;background-color:#1b4721;}.hljs-deletion{color:#ffd8d3;background-color:#78191b;}</style><style data-emotion="rpcss 9vhaby">.rpcss-9vhaby{background-color:var(--gradient-red-bottom);background-image:linear-gradient(to bottom right, var(--gradient-red-top), var(--gradient-red-bottom));}</style><header class="rpcss-9vhaby" style="background-image:linear-gradient(to bottom right, hsl(184, 100%, 35%), hsl(153, 100%, 30%))"><style data-emotion="rpcss 1qqk0tr">.rpcss-1qqk0tr{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);}</style><div class="rpcss-1qqk0tr"><style data-emotion="rpcss qx7dny">.rpcss-qx7dny{width:100%;max-width:1024px;margin:0 auto;padding:0 10px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}</style><div class="rpcss-qx7dny"><style data-emotion="rpcss 7s9om2">.rpcss-7s9om2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:20px 0 50px;}</style><div class="rpcss-7s9om2"><style data-emotion="rpcss gdpa5c">.rpcss-gdpa5c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;}</style><a class="rpcss-gdpa5c" href="/"><style data-emotion="rpcss 1lm4738">.rpcss-1lm4738{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;padding-bottom:10px;}</style><div class="rpcss-1lm4738"><style data-emotion="rpcss 13o7eu2">.rpcss-13o7eu2{display:block;}</style><svg class="rpcss-13o7eu2" height="36px" width="36px" viewBox="0 0 36 36"><defs><linearGradient id="PutainDeCodeLogoGradient" x1="50%" x2="50%" y1="0%" y2="127.223881%"><stop offset="0%" stop-color="#E41D57"></stop><stop offset="100%" stop-color="#C60000"></stop></linearGradient></defs><circle cx="18" cy="18" fill="url(#PutainDeCodeLogoGradient)" r="17" stroke="#FFFFFF" stroke-width="2"></circle><polygon fill="#FFFFFF" points="15.9033203 18.2246094 15.9033203 18.3710938 11.2304688 20.5317383 11.2304688 22.8095703 18.0566406 19.184082 18.0566406 17.4116211 11.2304688 13.7788086 11.2304688 16.0639648"></polygon><rect height="14" width="2" fill="#FFFFFF" x="22" y="11"><animate attributeName="opacity" begin="100ms" calcMode="discrete" dur="2s" repeatCount="indefinite" values="1;0"></animate></rect></svg><style data-emotion="rpcss 4cf197">.rpcss-4cf197{width:10px;height:10px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}</style><div class="rpcss-4cf197"></div><style data-emotion="rpcss u5k24">.rpcss-u5k24{font-size:22px;color:#fff;font-weight:800;}</style><div aria-level="2" class="rpcss-u5k24" role="heading">Putain de code !</div></div><style data-emotion="rpcss 1nyebg4">.rpcss-1nyebg4{font-size:14px;color:rgba(255, 255, 255, 0.8);text-align:center;}</style><div class="rpcss-1nyebg4">Blog participatif de la communauté dev</div></a></div></div></div></header><style data-emotion="rpcss a4ric9">.rpcss-a4ric9{background-color:var(--page-slightly-accented-background-color);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="rpcss-a4ric9"><style data-emotion="rpcss oeugsb">.rpcss-oeugsb{-webkit-animation:500ms ease-out animation-zx73cm;animation:500ms ease-out animation-zx73cm;}</style><div class="rpcss-oeugsb"><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 1qc2bam">.rpcss-1qc2bam{font-size:42px;font-weight:800;text-align:center;padding-top:40px;line-height:1.2;margin:0;}</style><h1 class="rpcss-1qc2bam">L&#x27;anti-divite, c&#x27;est pas automatique</h1><style data-emotion="rpcss obg2kr">.rpcss-obg2kr{font-size:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:40px;color:var(--page-text-color);-webkit-text-decoration:none;text-decoration:none;}</style><a class="rpcss-obg2kr" href="https://github.com/bloodyowl"><style data-emotion="rpcss uco8i7">.rpcss-uco8i7{width:32px;height:32px;border-radius:100%;margin-right:10px;}</style><img class="rpcss-uco8i7" alt="bloodyowl" src="https://avatars.githubusercontent.com/bloodyowl?size=64"/><div>bloodyowl<!-- --> <!-- -->•<!-- --> <!-- -->2018/10/09</div></a><style data-emotion="rpcss 15kxmi0">.rpcss-15kxmi0{max-width:640px;width:100%;font-size:18px;margin:0 auto;line-height:1.7;}.rpcss-15kxmi0 h2,.rpcss-15kxmi0 h3,.rpcss-15kxmi0 h4,.rpcss-15kxmi0 h5,.rpcss-15kxmi0 h6{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-weight:800;line-height:1.2;}.rpcss-15kxmi0 img{max-width:100%;background-color:rgba(255, 255, 255, 0.75);}.rpcss-15kxmi0 code{font-size:0.9em;font-family:PragmataPro,SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:1;background-color:var(--code-background-color);margin:0 0.2em;}.rpcss-15kxmi0 pre{padding:10px;overflow-x:auto;font-size:14px;border-radius:10px;border:2px solid var(--one-percent-contrast-color);-webkit-overflow-scrolling:touch;}.rpcss-15kxmi0 pre code{font-size:14px;background-color:transparent;margin:0;}.rpcss-15kxmi0 blockquote{padding-left:20px;margin:0;font-size:16px;border-left:3px solid var(--one-percent-contrast-color);font-style:italic;}.rpcss-15kxmi0 table{width:100%;text-align:center;}.rpcss-15kxmi0 figure{padding:20px 0;}.rpcss-15kxmi0 figcaption{text-align:center;}.rpcss-15kxmi0 a{word-wrap:break-word;}.rpcss-15kxmi0 table thead th{background-color:var(--page-accented-background-color);padding:10px 0;}</style><div class="rpcss-15kxmi0"><p>Dans la spécification HTML, l'élément <code>&lt;div /&gt;</code> est décrit comme
<a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element">n'ayant aucun sens particulier</a>.
C'est un élément extrêmement générique, à tel point qu'on pourrait le nommer
<code>&lt;view /&gt;</code> :</p>
<ul>
<li>son style par défaut est extrêmement léger (<code>display: block</code>, c'est tout) et
facile à reset ;</li>
<li>il accepte à peu près tout élément comme enfant.</li>
</ul>
<p>Présenté comme ça, <code>&lt;div /&gt;</code> semble être la brique de base parfaite pour créer un
système de composants. Si on utilise principalement cet élément, on pourra
imbriquer tous nos composants comme on le souhaite sans être contraint par le
contexte.</p>
<p>Pourtant, voilà une bonne dizaine d'années qu'on entend parler de
<a href="https://fr.wiktionary.org/wiki/divite">divite</a>, ou &quot;fait d'utiliser trop de
div&quot;. Parmi les deux citations sur le Wiktionnaire :</p>
<blockquote>
<p>En premier lieu, il faut donc surtout éviter le syndrome de la « divite »,
c’est-à-dire de considérer <code>&lt;div&gt;</code> comme un élément bon à tout faire, et ne
l’exploiter qu’en dernier recours lorsqu’aucun autre élément n’existe. <br />
— (Rodolphe Rimelé , HTML 5 : Une référence pour le développeur web, 2011)</p>
</blockquote>
<blockquote>
<p>La &quot;divite aiguë&quot; (l’utilisation abusive de balises div) est souvent le
symptôme d’un code mal structuré et excessivement compliqué. <br /> — (Simon
Collison, Cameron Moll, Andy Budd , Maitrise des CSS)</p>
</blockquote>
<h2>Une <code>&lt;div /&gt;</code> pour le styling</h2>
<p>Après avoir lu ces deux citations, vous êtes peut-être en train de vous dire
&quot;Ciel ! C'est horrible, mon application est criblée de <code>&lt;div&gt;</code> est-ce que
c'est grave ? Dois-je à tout prix arrêter d'utiliser des <code>&lt;div&gt;</code> ?&quot;</p>
<p>Si vous utilisez des <code>&lt;div /&gt;</code> pour du styling, vous pouvez continuer à le
faire parce que c'est exactement ce qu'on veut : qu'un élément qui est juste
là pour appliquer des styles n'ait pas d'importance sémantique.</p>
<p>Un certain courant de l'intégration préconise d'utiliser CSS avec toutes sortes
d'astuces pour éviter à tout prix d'avoir des <code>&lt;div&gt;</code> (ou plus généralement des
éléments) pour le styling.</p>
<p>Plus jeune, j'avais tendance à suivre cette approche et me suis heurté à une
problématique de taille par la suite:</p>
<p>c'est 👏 juste 👏 pas 👏 pratique</p>
<p>Prenons un exemple simple. J'ai la structure suivante:</p>
<pre><code class="hljs language-javascript">&lt;&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Article</span> /&gt;</span></span>
&lt;/&gt;
</code></pre>
<p>L'équipe de design souhaite les séparer visuellement de <code>10px</code>. Deux approches
s'offrent à moi.</p>
<p><img src="/public/images/articles/2018-10-09-l-anti-divite-c-est-pas-automatique/component-style.png" alt="marginRight ou Spacer" /></p>
<ol>
<li>J'ajoute un <code>&lt;Spacer /&gt;</code> entre les deux éléments, qui sera une <code>&lt;div /&gt;</code>
avec la hauteur souhaitée pour décaler du contenu visuellement, <code>&lt;Header /&gt;</code>
et <code>&lt;Article /&gt;</code> continuent leurs vies : l'impact de ma modification est
localisé, il n'y aura donc pas de régression.</li>
<li>J'ajoute une <code>marginBottom</code> à <code>&lt;Header /&gt;</code> (ou un <code>marginTop</code> à
<code>&lt;Article /&gt;</code>)
<ul>
<li>soit j'ajoute l'altération systématiquement, ce qui entrainera
possiblement des regressions visuelles aux autres endroits où mes <code>Header</code>
ou <code>Article</code> sont utilisés ;</li>
<li>soit j'ajoute un paramètre <code>marginTop</code> ou <code>marginBottom</code>, et ajoute de la
complexité au composant ;</li>
<li>soit je permets de passer un <code>style</code> et je devrai vérifier qu'il n'y a pas
de conflit à chaque fois que je mettrai le composant à jour,</li>
<li>soit je permets de passer un <code>className</code> : j'aurai la même vérification à
faire, en gardant en tête la spécificité des sélecteurs.</li>
</ul></li>
</ol>
<p>Les vieux de la vieille de l'intégration vous diront que c'est ridicule
maintenant qu'il y a CSS, que c'est une
<a href="https://en.wikipedia.org/wiki/Spacer_GIF"><code>technique d'antan</code></a> pour les layouts
en tableaux. Il y a cependant une différence primordiale: <strong>le contexte</strong>. À
l'époque, le <code>spacer.gif</code> était un hack malin pour contourner une contrainte
technique ; aujourd'hui, utiliser un <code>&lt;Spacer /&gt;</code> est un moyen de limiter la
responsabilité d'autres composants, de manière à les rendre plus facilement
réutilisables.
<a href="https://twitter.com/sophiebits/status/759898608913174528">Certains points de vue</a>
autour de ce qu'un composant devrait autoriser comme style sont particulièrement
intéressants lorsqu'ils sont mis dans cette perspective.</p>
<h2>Une <code>&lt;div /&gt;</code> pour les boutons</h2>
<blockquote>
<p>Just use a <code>&lt;button /&gt;</code>  <br />
— Most people</p>
</blockquote>
<p>Utiliser un élément <code>&lt;div /&gt;</code> ou <code>&lt;a /&gt;</code> pour représenter un <code>button</code>
(sémantiquement : une action sur la page) est très souvent mal perçu.</p>
<p>Prenons quelques cas où nous pourrions être amenés à avoir besoin de déroger au
<code>&lt;button /&gt;</code> :</p>
<ul>
<li>mon bouton doit être situé dans du contenu phrasé, je n'ai selon la
spécification pas le droit d'y mettre un élément <code>&lt;button /&gt;</code>, je vais donc
avoir tendance à utiliser un <code>&lt;a /&gt;</code> ou un <code>&lt;span /&gt;</code> ;</li>
<li>je veux arranger les éléments enfants du bouton avec un layout flex horizontal
non aligné au centre (je vous laisse profiter de
<a href="https://jsfiddle.net/bloodyowl/Lfcut68p/10/">l'exemple</a>, même avec les deux
très bien nommées propriétés <code>all: unset</code> et <code>appearance: none</code>, MÊME AVEC ÇA,
vous pouvez voir qu'all n'est pas unset et que les appearances sont trompeuses) ;</li>
<li>j'ai une approche par composants, et je n'ai pas le temps de vérifier à chaque
fois que j'utilise un bouton que tous ses enfants sont du contenu phrasé : j'ai
un composant existant représenté par une <code>&lt;div /&gt;</code>, je ne vais pas m'amuser à
rajouter un paramètre à ce composant et à tous les composants qu'il utilise
pour qu'ils rendent des <code>&lt;span /&gt;</code> plutôt que des <code>&lt;div /&gt;</code>.</li>
</ul>
<p>Puisque ces cas existent et sont légitimes: comment fabrique-t-on un composant
<code>&lt;Button /&gt;</code> accessible et qui marche dans tous les cas ?</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> Button = <span class="hljs-function">(<span class="hljs-params">{ onPress, onKeyUp, onClick, ...props }</span>) =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
    <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;button&quot;</span> // <span class="hljs-attr">les</span> <span class="hljs-attr">synth</span>è<span class="hljs-attr">ses</span> <span class="hljs-attr">vocales</span> <span class="hljs-attr">comprennent</span> <span class="hljs-attr">qu</span>&#x27;<span class="hljs-attr">il</span> <span class="hljs-attr">s</span>&#x27;<span class="hljs-attr">agit</span> <span class="hljs-attr">d</span>&#x27;<span class="hljs-attr">un</span> <span class="hljs-attr">bouton</span>
    <span class="hljs-attr">tabIndex</span>=<span class="hljs-string">{0}</span> // <span class="hljs-attr">l</span>&#x27;é<span class="hljs-attr">l</span>é<span class="hljs-attr">ment</span> <span class="hljs-attr">est</span> <span class="hljs-attr">navigable</span> <span class="hljs-attr">au</span> <span class="hljs-attr">clavier</span>
    <span class="hljs-attr">onKeyUp</span>=<span class="hljs-string">{event</span> =&gt;</span> {
      /* Space &amp; Enter */
      if (event.keyCode === 32 || event.keyCode === 13) {
        onPress();
      }
      if (onKeyUp) {
        onKeyUp(event);
      }
    }}
    onClick={event =&gt; {
      onPress();
      if (onClick) {
        onClick(event);
      }
    }}
    {...props}
  /&gt;</span>
);
</code></pre>
<blockquote>
<p>NOTE : Vous pouvez également faire un <code>&lt;InlineButton /&gt;</code> pour les cas où vous
avez besoin qu'il s'agisse d'un contenu phrasé.</p>
</blockquote>
<p>Comme vous pouvez le voir : <code>&lt;button /&gt;</code> et <code>&lt;div /&gt;</code> sont radicalement
différents lorsqu'ils sont lus par VoiceOver.</p>
<p><img src="/public/images/articles/2018-10-09-l-anti-divite-c-est-pas-automatique/button.png" alt="button hello" /></p>
<p><img src="/public/images/articles/2018-10-09-l-anti-divite-c-est-pas-automatique/div.png" alt="button hello" /></p>
<p>Ce composant sera interprété de la même façon qu'un <code>&lt;button /&gt;</code> et vous libère
des contraintes de ce dernier. Énorme avantage en plus: vous n'avez à faire
l'abstraction qu'une seule fois !</p>
<h2>Les <code>&lt;div /&gt;</code> de décoration</h2>
<p>On peut souvent trouver des <code>&lt;div /&gt;</code> chargées de simple décoration (des ombres
portées déportées de l'élément où elles sont accrochées visuellement pour atteindre
60FPS, des zigouigouis, des pétouilles…), et on se verra souvent conseillé de
plutôt utiliser des pseudo-elements comme <code>:before</code> et <code>:after</code>.</p>
<p>Pour commencer, je trouve ça beaucoup plus lisible d'avoir un élément pour le
gérer :</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> Card = <span class="hljs-function">(<span class="hljs-params">{ children }</span>) =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;Card&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;Card-shadow&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;Card-content&quot;</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</code></pre>
<p>que d'avoir à aller dans la feuille de style pour aller voir mon zigouigoui qui
porte le nom <code>:before</code> ou <code>:after</code>, ce qui ne m'aide pas des masses à visualiser
son intérêt. Avec un élément, je peux en plus très facilement le transformer en
un composant si j'ai besoin qu'il ait un cycle de vie ou un état local !</p>
<p>Qui plus est, je n'ai pas forcément la possibilité technique d'utiliser CSS, je
peux devoir utiliser des styles inline, les pseudo-éléments n'y seront pas
disponibles.</p>
<h2>Une <code>&lt;div /&gt;</code> pour les champs texte ?!</h2>
<p>Si je veux un champ texte qui grandit avec son contenu (qui apporte de nombreux
avantages pour l'utilisateur) avec des éléments sémantiques, je dois utiliser un
<code>&lt;textarea /&gt;</code> et mesurer sa nouvelle taille supposée (soit sur l'élément lui-même,
en définissant sa hauteur à <code>0</code> à chaque keystroke pour mesurer sa taille,
soit en utilisant la même technique sur un élément masqué dans le DOM possédant
les mêmes propriétés de layout). Ces techniques de mesures sont contraignantes :
on doit garder en tête le layout, le <code>box-sizing</code> de l'élément et notre
interface risque d'avoir des effets visuellement désagréables comme des &quot;sauts&quot;
de l'élément.</p>
<p>Là encore, utiliser une <code>&lt;div contentEditable /&gt;</code> non contrôlée peut nous
simplifier la vie:</p>
<pre><code class="hljs language-javascript">&lt;&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">&quot;input&quot;</span>&gt;</span>Mon champ<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
    <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;input&quot;</span>
    <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;textbox&quot;</span>
    <span class="hljs-attr">contentEditable</span>=<span class="hljs-string">{true}</span>
    <span class="hljs-attr">onInput</span>=<span class="hljs-string">{event</span> =&gt;</span> this.setState({ value: event.target.innerText })}
  /&gt;</span>
&lt;/&gt;
</code></pre>
<p>Pour implémenter un placeholder, une <code>&lt;div /&gt;</code> en position absolute fera
l'affaire.</p>
<p>Apprenons à aimer à nouveau la <code>&lt;div /&gt;</code>, si toutefois on prend bien soin de son
accessibilité. Utiliser des <code>&lt;div /&gt;</code> comme briques principales, c'est rendre
composable toute son application.</p>
<p>Les éléments dits sémantiques sont souvent des boîtes noires, contenant leur
nature sémantique, leur style et leur comportement, et si l'on veut les changer,
on doit annuler des comportement non déterminés à l'avance (c'est l'équivalent
conceptuel de <code>preventDefault</code> : &quot;annule quelque chose, mais je ne sais pas
quoi&quot;). Utiliser des <code>&lt;div /&gt;</code> avec des attributs <code>role</code> et <code>aria-*</code> change
complètement le paradigme : notre élément sera une vue pour lequel <strong>nous</strong>
spécifions le style, le comportement et la sémantique.</p>
<p>C'est une façon différente de penser son application web : construire du
spécifique avec des briques génériques plutôt que de rendre générique des
briques spécifiques.</p>
<p>N'ayons plus une peur déraisonnée d'utiliser des <code>&lt;div /&gt;</code>, apprenons juste à les
rendre sémantiques.</p>
<p>Bisous bisous.</p>
</div><style data-emotion="rpcss unyj6i">.rpcss-unyj6i{max-width:640px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:20px auto;padding:20px;background-color:var(--page-background-color);border-radius:10px;box-shadow:0 15px 15px -5px rgba(0, 0, 0, 0.2);}@media (max-width: 540px){.rpcss-unyj6i{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="rpcss-unyj6i"><style data-emotion="rpcss ty7r4z">.rpcss-ty7r4z{font-weight:800;}</style><div class="rpcss-ty7r4z">Vous avez aimé cet article?</div><style data-emotion="rpcss klacsp">.rpcss-klacsp{width:0;height:10px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}</style><div class="rpcss-klacsp"></div><style data-emotion="rpcss 1pkr03v">.rpcss-1pkr03v{background-color:#00aced;color:#fff;padding:10px 20px;-webkit-text-decoration:none;text-decoration:none;border-radius:5px;font-weight:800;}.rpcss-1pkr03v:active{opacity:0.5;}</style><a class="rpcss-1pkr03v" href="https://www.twitter.com/intent/tweet?text=L&#x27;anti-divite%2C%20c&#x27;est%20pas%20automatique%20sur%20%40PutainDeCode%20https%3A%2F%2Fputaindecode.io%2Farticles%2Fl-anti-divite-c-est-pas-automatique" target="_blank">Le partager sur Twitter</a></div><style data-emotion="rpcss x4iqxe">.rpcss-x4iqxe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center;padding:20px;}</style><div class="rpcss-x4iqxe"><style data-emotion="rpcss gein6x">.rpcss-gein6x{font-size:20px;-webkit-text-decoration:none;text-decoration:none;color:#1E49B5;}</style><a class="rpcss-gein6x" href="/articles">← Articles</a></div><style data-emotion="rpcss 8bodgl">.rpcss-8bodgl{max-width:640px;width:100%;margin:0 auto;padding:20px 0;}</style><div class="rpcss-8bodgl" id="disqus_thread"></div></div></div></div></div><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 1vau6rl">.rpcss-1vau6rl{margin:20px 0;background-color:var(--page-accented-background-color);border-radius:10px;padding:20px;}</style><div class="rpcss-1vau6rl"><style data-emotion="rpcss 1gz1i1h">.rpcss-1gz1i1h{font-size:32px;font-weight:800;margin-bottom:20px;text-align:center;}</style><div aria-level="2" class="rpcss-1gz1i1h" role="heading">Ne rien rater</div><style data-emotion="rpcss 1wbispj">.rpcss-1wbispj{font-size:18px;margin-bottom:10px;text-align:center;}</style><div aria-level="3" class="rpcss-1wbispj" role="heading">Sur les réseaux</div><style data-emotion="rpcss 1hyoz7m">.rpcss-1hyoz7m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}</style><div class="rpcss-1hyoz7m"><a href="https://twitter.com/PutainDeCode"><img alt="Twitter" height="48" src="/public/images/website/twitter.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://facebook.com/putaindecode"><img alt="Facebook" height="48" src="/public/images/website/facebook.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://github.com/putaindecode"><img alt="Facebook" height="48" src="/public/images/website/github.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://itunes.apple.com/fr/podcast/putain-de-code-!/id1185311825"><img alt="Apple Podcast" height="48" src="/public/images/website/apple-podcast.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://soundcloud.com/putaindecode"><img alt="Soundcloud" height="48" src="/public/images/website/soundcloud.svg" width="48"/></a></div><div aria-level="3" class="rpcss-1wbispj" role="heading">Sur le chat</div><div class="rpcss-1hyoz7m"><a href="https://discord.gg/jtbGNNc"><img alt="Discord" height="48" src="/public/images/website/discord.svg" width="48"/></a></div></div></div></div><style data-emotion="rpcss zs8kw7">.rpcss-zs8kw7{background-color:#222;padding:20px 0;}</style><footer class="rpcss-zs8kw7"><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 79elbk">.rpcss-79elbk{position:relative;}</style><div class="rpcss-79elbk"><style data-emotion="rpcss 1hle0ni">.rpcss-1hle0ni{position:absolute;left:0;top:50%;color:#fff;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a class="rpcss-1hle0ni" href="/api/articles/feeds/desc/feed.xml"><style data-emotion="rpcss lvyu5j">.rpcss-lvyu5j{margin-right:10px;}</style><img class="rpcss-lvyu5j" alt="Flux RSS" height="16" src="/public/images/website/rss-feed.svg" width="16"/><style data-emotion="rpcss um3i31">@media (max-width: 400px){.rpcss-um3i31{display:none;}}</style><div class="rpcss-um3i31">Flux RSS</div></a><style data-emotion="rpcss 12cp4l7">.rpcss-12cp4l7{color:rgba(255, 255, 255, 0.5);text-align:center;font-size:14px;}</style><div class="rpcss-12cp4l7">© 2021 Putain de code !</div><style data-emotion="rpcss 1w98uy3">.rpcss-1w98uy3{position:absolute;right:0;top:50%;color:#fff;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a class="rpcss-1w98uy3" href="https://github.com/putaindecode/putaindecode.io">GitHub</a></div></div></div></footer></div><script id="initialData" type="text/data">{"lists":{"RE_PRIVATE_NONE":true},"items":{"k":"articles","v":{"k":"l-anti-divite-c-est-pas-automatique","v":{"_0":{"TAG":0,"_0":{"slug":"l-anti-divite-c-est-pas-automatique","filename":"2018-10-09-l-anti-divite-c-est-pas-automatique","title":"L'anti-divite, c'est pas automatique","date":"Tue, 09 Oct 2018 00:00:00 GMT","draft":false,"meta":{"date":"2018-10-09T00:00:00.000Z","title":"L'anti-divite, c'est pas automatique","author":"bloodyowl","oldSlug":"html/anti-divite-pas-automatique","slug":"l-anti-divite-c-est-pas-automatique"},"body":"<p>Dans la spécification HTML, l'élément <code>&lt;div /&gt;</code> est décrit comme\n<a href=\"https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element\">n'ayant aucun sens particulier</a>.\nC'est un élément extrêmement générique, à tel point qu'on pourrait le nommer\n<code>&lt;view /&gt;</code> :</p>\n<ul>\n<li>son style par défaut est extrêmement léger (<code>display: block</code>, c'est tout) et\nfacile à reset ;</li>\n<li>il accepte à peu près tout élément comme enfant.</li>\n</ul>\n<p>Présenté comme ça, <code>&lt;div /&gt;</code> semble être la brique de base parfaite pour créer un\nsystème de composants. Si on utilise principalement cet élément, on pourra\nimbriquer tous nos composants comme on le souhaite sans être contraint par le\ncontexte.</p>\n<p>Pourtant, voilà une bonne dizaine d'années qu'on entend parler de\n<a href=\"https://fr.wiktionary.org/wiki/divite\">divite</a>, ou &quot;fait d'utiliser trop de\ndiv&quot;. Parmi les deux citations sur le Wiktionnaire :</p>\n<blockquote>\n<p>En premier lieu, il faut donc surtout éviter le syndrome de la « divite »,\nc’est-à-dire de considérer <code>&lt;div&gt;</code> comme un élément bon à tout faire, et ne\nl’exploiter qu’en dernier recours lorsqu’aucun autre élément n’existe. <br />\n— (Rodolphe Rimelé , HTML 5 : Une référence pour le développeur web, 2011)</p>\n</blockquote>\n<blockquote>\n<p>La &quot;divite aiguë&quot; (l’utilisation abusive de balises div) est souvent le\nsymptôme d’un code mal structuré et excessivement compliqué. <br /> — (Simon\nCollison, Cameron Moll, Andy Budd , Maitrise des CSS)</p>\n</blockquote>\n<h2>Une <code>&lt;div /&gt;</code> pour le styling</h2>\n<p>Après avoir lu ces deux citations, vous êtes peut-être en train de vous dire\n&quot;Ciel ! C'est horrible, mon application est criblée de <code>&lt;div&gt;</code> est-ce que\nc'est grave ? Dois-je à tout prix arrêter d'utiliser des <code>&lt;div&gt;</code> ?&quot;</p>\n<p>Si vous utilisez des <code>&lt;div /&gt;</code> pour du styling, vous pouvez continuer à le\nfaire parce que c'est exactement ce qu'on veut : qu'un élément qui est juste\nlà pour appliquer des styles n'ait pas d'importance sémantique.</p>\n<p>Un certain courant de l'intégration préconise d'utiliser CSS avec toutes sortes\nd'astuces pour éviter à tout prix d'avoir des <code>&lt;div&gt;</code> (ou plus généralement des\néléments) pour le styling.</p>\n<p>Plus jeune, j'avais tendance à suivre cette approche et me suis heurté à une\nproblématique de taille par la suite:</p>\n<p>c'est 👏 juste 👏 pas 👏 pratique</p>\n<p>Prenons un exemple simple. J'ai la structure suivante:</p>\n<pre><code class=\"hljs language-javascript\">&lt;&gt;\n  <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Header</span> /&gt;</span></span>\n  <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Article</span> /&gt;</span></span>\n&lt;/&gt;\n</code></pre>\n<p>L'équipe de design souhaite les séparer visuellement de <code>10px</code>. Deux approches\ns'offrent à moi.</p>\n<p><img src=\"/public/images/articles/2018-10-09-l-anti-divite-c-est-pas-automatique/component-style.png\" alt=\"marginRight ou Spacer\" /></p>\n<ol>\n<li>J'ajoute un <code>&lt;Spacer /&gt;</code> entre les deux éléments, qui sera une <code>&lt;div /&gt;</code>\navec la hauteur souhaitée pour décaler du contenu visuellement, <code>&lt;Header /&gt;</code>\net <code>&lt;Article /&gt;</code> continuent leurs vies : l'impact de ma modification est\nlocalisé, il n'y aura donc pas de régression.</li>\n<li>J'ajoute une <code>marginBottom</code> à <code>&lt;Header /&gt;</code> (ou un <code>marginTop</code> à\n<code>&lt;Article /&gt;</code>)\n<ul>\n<li>soit j'ajoute l'altération systématiquement, ce qui entrainera\npossiblement des regressions visuelles aux autres endroits où mes <code>Header</code>\nou <code>Article</code> sont utilisés ;</li>\n<li>soit j'ajoute un paramètre <code>marginTop</code> ou <code>marginBottom</code>, et ajoute de la\ncomplexité au composant ;</li>\n<li>soit je permets de passer un <code>style</code> et je devrai vérifier qu'il n'y a pas\nde conflit à chaque fois que je mettrai le composant à jour,</li>\n<li>soit je permets de passer un <code>className</code> : j'aurai la même vérification à\nfaire, en gardant en tête la spécificité des sélecteurs.</li>\n</ul></li>\n</ol>\n<p>Les vieux de la vieille de l'intégration vous diront que c'est ridicule\nmaintenant qu'il y a CSS, que c'est une\n<a href=\"https://en.wikipedia.org/wiki/Spacer_GIF\"><code>technique d'antan</code></a> pour les layouts\nen tableaux. Il y a cependant une différence primordiale: <strong>le contexte</strong>. À\nl'époque, le <code>spacer.gif</code> était un hack malin pour contourner une contrainte\ntechnique ; aujourd'hui, utiliser un <code>&lt;Spacer /&gt;</code> est un moyen de limiter la\nresponsabilité d'autres composants, de manière à les rendre plus facilement\nréutilisables.\n<a href=\"https://twitter.com/sophiebits/status/759898608913174528\">Certains points de vue</a>\nautour de ce qu'un composant devrait autoriser comme style sont particulièrement\nintéressants lorsqu'ils sont mis dans cette perspective.</p>\n<h2>Une <code>&lt;div /&gt;</code> pour les boutons</h2>\n<blockquote>\n<p>Just use a <code>&lt;button /&gt;</code>  <br />\n— Most people</p>\n</blockquote>\n<p>Utiliser un élément <code>&lt;div /&gt;</code> ou <code>&lt;a /&gt;</code> pour représenter un <code>button</code>\n(sémantiquement : une action sur la page) est très souvent mal perçu.</p>\n<p>Prenons quelques cas où nous pourrions être amenés à avoir besoin de déroger au\n<code>&lt;button /&gt;</code> :</p>\n<ul>\n<li>mon bouton doit être situé dans du contenu phrasé, je n'ai selon la\nspécification pas le droit d'y mettre un élément <code>&lt;button /&gt;</code>, je vais donc\navoir tendance à utiliser un <code>&lt;a /&gt;</code> ou un <code>&lt;span /&gt;</code> ;</li>\n<li>je veux arranger les éléments enfants du bouton avec un layout flex horizontal\nnon aligné au centre (je vous laisse profiter de\n<a href=\"https://jsfiddle.net/bloodyowl/Lfcut68p/10/\">l'exemple</a>, même avec les deux\ntrès bien nommées propriétés <code>all: unset</code> et <code>appearance: none</code>, MÊME AVEC ÇA,\nvous pouvez voir qu'all n'est pas unset et que les appearances sont trompeuses) ;</li>\n<li>j'ai une approche par composants, et je n'ai pas le temps de vérifier à chaque\nfois que j'utilise un bouton que tous ses enfants sont du contenu phrasé : j'ai\nun composant existant représenté par une <code>&lt;div /&gt;</code>, je ne vais pas m'amuser à\nrajouter un paramètre à ce composant et à tous les composants qu'il utilise\npour qu'ils rendent des <code>&lt;span /&gt;</code> plutôt que des <code>&lt;div /&gt;</code>.</li>\n</ul>\n<p>Puisque ces cas existent et sont légitimes: comment fabrique-t-on un composant\n<code>&lt;Button /&gt;</code> accessible et qui marche dans tous les cas ?</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">let</span> Button = <span class=\"hljs-function\">(<span class=\"hljs-params\">{ onPress, onKeyUp, onClick, ...props }</span>) =&gt;</span> (\n  <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>\n    <span class=\"hljs-attr\">role</span>=<span class=\"hljs-string\">&quot;button&quot;</span> // <span class=\"hljs-attr\">les</span> <span class=\"hljs-attr\">synth</span>è<span class=\"hljs-attr\">ses</span> <span class=\"hljs-attr\">vocales</span> <span class=\"hljs-attr\">comprennent</span> <span class=\"hljs-attr\">qu</span>&#x27;<span class=\"hljs-attr\">il</span> <span class=\"hljs-attr\">s</span>&#x27;<span class=\"hljs-attr\">agit</span> <span class=\"hljs-attr\">d</span>&#x27;<span class=\"hljs-attr\">un</span> <span class=\"hljs-attr\">bouton</span>\n    <span class=\"hljs-attr\">tabIndex</span>=<span class=\"hljs-string\">{0}</span> // <span class=\"hljs-attr\">l</span>&#x27;é<span class=\"hljs-attr\">l</span>é<span class=\"hljs-attr\">ment</span> <span class=\"hljs-attr\">est</span> <span class=\"hljs-attr\">navigable</span> <span class=\"hljs-attr\">au</span> <span class=\"hljs-attr\">clavier</span>\n    <span class=\"hljs-attr\">onKeyUp</span>=<span class=\"hljs-string\">{event</span> =&gt;</span> {\n      /* Space &amp; Enter */\n      if (event.keyCode === 32 || event.keyCode === 13) {\n        onPress();\n      }\n      if (onKeyUp) {\n        onKeyUp(event);\n      }\n    }}\n    onClick={event =&gt; {\n      onPress();\n      if (onClick) {\n        onClick(event);\n      }\n    }}\n    {...props}\n  /&gt;</span>\n);\n</code></pre>\n<blockquote>\n<p>NOTE : Vous pouvez également faire un <code>&lt;InlineButton /&gt;</code> pour les cas où vous\navez besoin qu'il s'agisse d'un contenu phrasé.</p>\n</blockquote>\n<p>Comme vous pouvez le voir : <code>&lt;button /&gt;</code> et <code>&lt;div /&gt;</code> sont radicalement\ndifférents lorsqu'ils sont lus par VoiceOver.</p>\n<p><img src=\"/public/images/articles/2018-10-09-l-anti-divite-c-est-pas-automatique/button.png\" alt=\"button hello\" /></p>\n<p><img src=\"/public/images/articles/2018-10-09-l-anti-divite-c-est-pas-automatique/div.png\" alt=\"button hello\" /></p>\n<p>Ce composant sera interprété de la même façon qu'un <code>&lt;button /&gt;</code> et vous libère\ndes contraintes de ce dernier. Énorme avantage en plus: vous n'avez à faire\nl'abstraction qu'une seule fois !</p>\n<h2>Les <code>&lt;div /&gt;</code> de décoration</h2>\n<p>On peut souvent trouver des <code>&lt;div /&gt;</code> chargées de simple décoration (des ombres\nportées déportées de l'élément où elles sont accrochées visuellement pour atteindre\n60FPS, des zigouigouis, des pétouilles…), et on se verra souvent conseillé de\nplutôt utiliser des pseudo-elements comme <code>:before</code> et <code>:after</code>.</p>\n<p>Pour commencer, je trouve ça beaucoup plus lisible d'avoir un élément pour le\ngérer :</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">let</span> Card = <span class=\"hljs-function\">(<span class=\"hljs-params\">{ children }</span>) =&gt;</span> (\n  <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;Card&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;Card-shadow&quot;</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;Card-content&quot;</span>&gt;</span>{children}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n);\n</code></pre>\n<p>que d'avoir à aller dans la feuille de style pour aller voir mon zigouigoui qui\nporte le nom <code>:before</code> ou <code>:after</code>, ce qui ne m'aide pas des masses à visualiser\nson intérêt. Avec un élément, je peux en plus très facilement le transformer en\nun composant si j'ai besoin qu'il ait un cycle de vie ou un état local !</p>\n<p>Qui plus est, je n'ai pas forcément la possibilité technique d'utiliser CSS, je\npeux devoir utiliser des styles inline, les pseudo-éléments n'y seront pas\ndisponibles.</p>\n<h2>Une <code>&lt;div /&gt;</code> pour les champs texte ?!</h2>\n<p>Si je veux un champ texte qui grandit avec son contenu (qui apporte de nombreux\navantages pour l'utilisateur) avec des éléments sémantiques, je dois utiliser un\n<code>&lt;textarea /&gt;</code> et mesurer sa nouvelle taille supposée (soit sur l'élément lui-même,\nen définissant sa hauteur à <code>0</code> à chaque keystroke pour mesurer sa taille,\nsoit en utilisant la même technique sur un élément masqué dans le DOM possédant\nles mêmes propriétés de layout). Ces techniques de mesures sont contraignantes :\non doit garder en tête le layout, le <code>box-sizing</code> de l'élément et notre\ninterface risque d'avoir des effets visuellement désagréables comme des &quot;sauts&quot;\nde l'élément.</p>\n<p>Là encore, utiliser une <code>&lt;div contentEditable /&gt;</code> non contrôlée peut nous\nsimplifier la vie:</p>\n<pre><code class=\"hljs language-javascript\">&lt;&gt;\n  <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">htmlFor</span>=<span class=\"hljs-string\">&quot;input&quot;</span>&gt;</span>Mon champ<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span></span>\n  <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>\n    <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;input&quot;</span>\n    <span class=\"hljs-attr\">role</span>=<span class=\"hljs-string\">&quot;textbox&quot;</span>\n    <span class=\"hljs-attr\">contentEditable</span>=<span class=\"hljs-string\">{true}</span>\n    <span class=\"hljs-attr\">onInput</span>=<span class=\"hljs-string\">{event</span> =&gt;</span> this.setState({ value: event.target.innerText })}\n  /&gt;</span>\n&lt;/&gt;\n</code></pre>\n<p>Pour implémenter un placeholder, une <code>&lt;div /&gt;</code> en position absolute fera\nl'affaire.</p>\n<p>Apprenons à aimer à nouveau la <code>&lt;div /&gt;</code>, si toutefois on prend bien soin de son\naccessibilité. Utiliser des <code>&lt;div /&gt;</code> comme briques principales, c'est rendre\ncomposable toute son application.</p>\n<p>Les éléments dits sémantiques sont souvent des boîtes noires, contenant leur\nnature sémantique, leur style et leur comportement, et si l'on veut les changer,\non doit annuler des comportement non déterminés à l'avance (c'est l'équivalent\nconceptuel de <code>preventDefault</code> : &quot;annule quelque chose, mais je ne sais pas\nquoi&quot;). Utiliser des <code>&lt;div /&gt;</code> avec des attributs <code>role</code> et <code>aria-*</code> change\ncomplètement le paradigme : notre élément sera une vue pour lequel <strong>nous</strong>\nspécifions le style, le comportement et la sémantique.</p>\n<p>C'est une façon différente de penser son application web : construire du\nspécifique avec des briques génériques plutôt que de rendre générique des\nbriques spécifiques.</p>\n<p>N'ayons plus une peur déraisonnée d'utiliser des <code>&lt;div /&gt;</code>, apprenons juste à les\nrendre sémantiques.</p>\n<p>Bisous bisous.</p>\n"}}},"h":1,"l":{"RE_PRIVATE_NONE":true},"r":{"RE_PRIVATE_NONE":true}},"h":1,"l":{"RE_PRIVATE_NONE":true},"r":{"RE_PRIVATE_NONE":true}},"listsRequests":{"data":{"RE_PRIVATE_NONE":true}},"itemsRequests":{"data":{"RE_PRIVATE_NONE":true}}}</script><head><script defer="defer" src="/public/main.56c69761a03eb0112696.js"></script></head></html>