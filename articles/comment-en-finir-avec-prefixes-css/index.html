<!DOCTYPE html><html lang="fr"><head><title data-react-helmet="true">Comment en finir avec les préfixes CSS | Putain de code</title><meta data-react-helmet="true" charset="UTF-8"/><meta data-react-helmet="true" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover" name="viewport"/><meta data-react-helmet="true" content="summary_large_image" name="twitter:card"/><meta data-react-helmet="true" content="Putain de code !" property="og:site_name"/><meta data-react-helmet="true" content="@putaindecode" name="twitter:site"/><meta data-react-helmet="true" content="https://putaindecode.io/public/images/website/share.jpg" property="og:image"/><meta data-react-helmet="true" content="https://putaindecode.io/public/images/website/share.jpg" name="twitter:image"/><meta data-react-helmet="true" content="1500" property="og:image:width"/><meta data-react-helmet="true" content="777" property="og:image:height"/><meta data-react-helmet="true" content="Comment en finir avec les préfixes CSS | Putain de code" property="og:title"/><meta data-react-helmet="true" content="Comment en finir avec les préfixes CSS | Putain de code" name="twitter:title"/><meta data-react-helmet="true" content="Un article proposé par MoOx" name="description"/><link data-react-helmet="true" title="RSS Feed" href="/api/articles/feeds/desc/feed.xml" rel="alternate" type="application/rss+xml"/><link data-react-helmet="true" href="/favicon.ico" rel="shortcut icon"/><link data-react-helmet="true" href="https://putaindecode.io/articles/comment-en-finir-avec-prefixes-css" rel="canonical"/><script>window.PAGES_BOOT_MODE="hydrate";</script></head><div id="root"><style data-emotion="rpcss zx73cm 1lc6tyj 28v1b4">@-webkit-keyframes animation-zx73cm{from{opacity:0;-webkit-transform:translateY(20px);-moz-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}}@keyframes animation-zx73cm{from{opacity:0;-webkit-transform:translateY(20px);-moz-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}}:root{--page-background-color:#fff;--page-slightly-accented-background-color:#F9F6F6;--page-accented-background-color:#E4EBEE;--page-text-color:#46515B;--link-text-color:#E51D58;--gradient-red-top:#E51D58;--gradient-red-bottom:#CC0613;--code-background-color:#FAF3E1;--one-percent-contrast-color:rgba(0, 0, 0, 0.1);--half-percent-contrast-color:rgba(0, 0, 0, 0.05);}@media (prefers-color-scheme: dark){:root{--page-background-color:#222;--page-slightly-accented-background-color:#171717;--page-accented-background-color:#111;--page-text-color:#ddd;--link-text-color:#F87098;--gradient-red-top:#E51D58;--gradient-red-bottom:#CC0613;--code-background-color:#4F3804;--one-percent-contrast-color:rgba(255, 255, 255, 0.1);--half-percent-contrast-color:rgba(255, 255, 255, 0.05);}}body{padding:0;margin:0;background-color:var(--page-background-color);color:var(--page-text-color);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;overflow-x:hidden;}html{font-size:1em;line-height:1.4;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;}a{color:var(--link-text-color);-webkit-text-decoration:underline;text-decoration:underline;}a:hover{-webkit-text-decoration:none;text-decoration:none;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}*,*:before,*:after{box-sizing:border-box;}pre,.hljs{color:#adbac7;background:#22272e;}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067;}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb;}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-variable,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id{color:#6cb6ff;}.hljs-regexp,.hljs-string,.hljs-meta .hljs-string{color:#96d0ff;}.hljs-built_in,.hljs-symbol{color:#f69d50;}.hljs-comment,.hljs-code,.hljs-formula{color:#768390;}.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo{color:#8ddb8c;}.hljs-subst{color:#adbac7;}.hljs-section{color:#316dca;font-weight:bold;}.hljs-bullet{color:#eac55f;}.hljs-emphasis{color:#adbac7;font-style:italic;}.hljs-strong{color:#adbac7;font-weight:bold;}.hljs-addition{color:#b4f1b4;background-color:#1b4721;}.hljs-deletion{color:#ffd8d3;background-color:#78191b;}</style><style data-emotion="rpcss 9vhaby">.rpcss-9vhaby{background-color:var(--gradient-red-bottom);background-image:linear-gradient(to bottom right, var(--gradient-red-top), var(--gradient-red-bottom));}</style><header class="rpcss-9vhaby" style="background-image:linear-gradient(to bottom right, hsl(161, 100%, 35%), hsl(134, 100%, 30%))"><style data-emotion="rpcss 1qqk0tr">.rpcss-1qqk0tr{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);}</style><div class="rpcss-1qqk0tr"><style data-emotion="rpcss qx7dny">.rpcss-qx7dny{width:100%;max-width:1024px;margin:0 auto;padding:0 10px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}</style><div class="rpcss-qx7dny"><style data-emotion="rpcss 7s9om2">.rpcss-7s9om2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:20px 0 50px;}</style><div class="rpcss-7s9om2"><style data-emotion="rpcss gdpa5c">.rpcss-gdpa5c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;}</style><a class="rpcss-gdpa5c" href="/"><style data-emotion="rpcss 1lm4738">.rpcss-1lm4738{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;padding-bottom:10px;}</style><div class="rpcss-1lm4738"><style data-emotion="rpcss 13o7eu2">.rpcss-13o7eu2{display:block;}</style><svg class="rpcss-13o7eu2" height="36px" width="36px" viewBox="0 0 36 36"><defs><linearGradient id="PutainDeCodeLogoGradient" x1="50%" x2="50%" y1="0%" y2="127.223881%"><stop offset="0%" stop-color="#E41D57"></stop><stop offset="100%" stop-color="#C60000"></stop></linearGradient></defs><circle cx="18" cy="18" fill="url(#PutainDeCodeLogoGradient)" r="17" stroke="#FFFFFF" stroke-width="2"></circle><polygon fill="#FFFFFF" points="15.9033203 18.2246094 15.9033203 18.3710938 11.2304688 20.5317383 11.2304688 22.8095703 18.0566406 19.184082 18.0566406 17.4116211 11.2304688 13.7788086 11.2304688 16.0639648"></polygon><rect height="14" width="2" fill="#FFFFFF" x="22" y="11"><animate attributeName="opacity" begin="100ms" calcMode="discrete" dur="2s" repeatCount="indefinite" values="1;0"></animate></rect></svg><style data-emotion="rpcss 4cf197">.rpcss-4cf197{width:10px;height:10px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}</style><div class="rpcss-4cf197"></div><style data-emotion="rpcss u5k24">.rpcss-u5k24{font-size:22px;color:#fff;font-weight:800;}</style><div aria-level="2" class="rpcss-u5k24" role="heading">Putain de code !</div></div><style data-emotion="rpcss 1nyebg4">.rpcss-1nyebg4{font-size:14px;color:rgba(255, 255, 255, 0.8);text-align:center;}</style><div class="rpcss-1nyebg4">Blog participatif de la communauté dev</div></a></div></div></div></header><style data-emotion="rpcss a4ric9">.rpcss-a4ric9{background-color:var(--page-slightly-accented-background-color);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="rpcss-a4ric9"><style data-emotion="rpcss oeugsb">.rpcss-oeugsb{-webkit-animation:500ms ease-out animation-zx73cm;animation:500ms ease-out animation-zx73cm;}</style><div class="rpcss-oeugsb"><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 1qc2bam">.rpcss-1qc2bam{font-size:42px;font-weight:800;text-align:center;padding-top:40px;line-height:1.2;margin:0;}</style><h1 class="rpcss-1qc2bam">Comment en finir avec les préfixes CSS</h1><style data-emotion="rpcss obg2kr">.rpcss-obg2kr{font-size:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:40px;color:var(--page-text-color);-webkit-text-decoration:none;text-decoration:none;}</style><a class="rpcss-obg2kr" href="https://github.com/MoOx"><style data-emotion="rpcss uco8i7">.rpcss-uco8i7{width:32px;height:32px;border-radius:100%;margin-right:10px;}</style><img class="rpcss-uco8i7" alt="MoOx" src="https://avatars.githubusercontent.com/MoOx?size=64"/><div>MoOx<!-- --> <!-- -->•<!-- --> <!-- -->2014/02/25</div></a><style data-emotion="rpcss 15kxmi0">.rpcss-15kxmi0{max-width:640px;width:100%;font-size:18px;margin:0 auto;line-height:1.7;}.rpcss-15kxmi0 h2,.rpcss-15kxmi0 h3,.rpcss-15kxmi0 h4,.rpcss-15kxmi0 h5,.rpcss-15kxmi0 h6{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-weight:800;line-height:1.2;}.rpcss-15kxmi0 img{max-width:100%;background-color:rgba(255, 255, 255, 0.75);}.rpcss-15kxmi0 code{font-size:0.9em;font-family:PragmataPro,SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:1;background-color:var(--code-background-color);margin:0 0.2em;}.rpcss-15kxmi0 pre{padding:10px;overflow-x:auto;font-size:14px;border-radius:10px;border:2px solid var(--one-percent-contrast-color);-webkit-overflow-scrolling:touch;}.rpcss-15kxmi0 pre code{font-size:14px;background-color:transparent;margin:0;}.rpcss-15kxmi0 blockquote{padding-left:20px;margin:0;font-size:16px;border-left:3px solid var(--one-percent-contrast-color);font-style:italic;}.rpcss-15kxmi0 table{width:100%;text-align:center;}.rpcss-15kxmi0 figure{padding:20px 0;}.rpcss-15kxmi0 figcaption{text-align:center;}.rpcss-15kxmi0 a{word-wrap:break-word;}.rpcss-15kxmi0 table thead th{background-color:var(--page-accented-background-color);padding:10px 0;}</style><div class="rpcss-15kxmi0"><p>En mettant de côté le débat trollesque <em>faut-il ou pas des préfixes CSS ?</em> (car
avouons-le, ils sont là, il faut faire avec), on ne va pas se le cacher, les
préfixes CSS ça nous brise tous les... touches du clavier. Eh bien oui, sans
automatisation on est obligé de se taper des caractères en plus. Même avec un
IDE correct, on peut faire ça rapidement, mais ça nécessite presque à chaque
fois une action de notre part.</p>
<h2>Préfixer via des outils en ligne</h2>
<p>Les élèves au fond de la classe me montreront de suite des solutions comme
<a href="http://prefixmycss.com/">prefixmycss.com</a> ou l'ancien prefixr. Inopinément, un
moche &quot;Mourrez moi sile vou pler&quot; sort de mon corps. Non, sérieusement, ce n’est
pas une façon de faire ça. Aller sur une web app à chaque fois que je veux
préfixer mes CSS ? Sérieusement ? Vous avez qu’à aussi faire un service postal
où j’envoie mes fichiers CSS dans une clé USB et qu’on me renvoie sous 48h avec
les préfixes ajoutés. Super pratique.</p>
<h2>Préfixer via JavaScript</h2>
<p>Une autre solution serait <a href="http://leaverou.github.io/prefixfree/">prefix-free</a>,
mais je ne vais même pas en parler tellement l’idée de dépendre de JavaScript
pour avoir un <code>border-radius</code> ou une <code>transition</code> CSS me donne une migraine. Je
vous passe les détails niveau performance. Selon les cas, on pourrait même avoir
un petit flash visuel sans les propriétés préfixées. Non mais flûte. On ne fait
pas ça. On n’alourdit pas une page web avec du JavaScript pour parser la feuille
de style et réintégrer des préfixes quoi. Au secours.</p>
<h2>Préfixer via les pré-processeurs CSS</h2>
<p>Alors là, j’en entends déjà qui parle à voix haute au milieu de la classe :</p>
<blockquote>
<p>Bah lui c’est clair il’connait pas les pré-processeurs CSS le noube</p>
</blockquote>
<p>Sans rentrer dans un débat trollesque (encore un), à part peut-être avec
<em>Stylus</em> et ces mixins transparent (coucou
<em><a href="http://visionmedia.github.io/nib/">Nib</a></em>), on est obligé de rajouter du code.
Avec <em>Sass</em> il faudra (en scss) rajouter <code>@include</code> et un couple de parenthèse
(et au passage avoir <em>Compass</em> si on ne veut pas coder les mixins à la main).
Avec <em>Less</em> il faudra aussi une librairie <em>Less Hat</em> si on n’a pas envie de se
taper du mixin qui donne de la nausée comme on peut voir sur la
<a href="http://lesscss.org/">page d’accueil</a>.</p>
<h2>Les préfixes, c’est comme le lait, ça tourne</h2>
<p>D’ailleurs, parlons en vite fait de cette page d’accueil qui au jour où j’écris
ce post, comporte <b>en premier exemple</b> un mixin pour <code>box-shadow</code> (hashtag
ohlol).</p>
<p>Certaines propriétés comme <code>box-shadow</code>, ou encore <code>border-radius</code>, sont
aujourd’hui préfixées à tort, car comme on peut le voir sur le site de
<a href="http://caniuse.com/">CanIUse.com</a>, elles n’ont plus vraiment besoin d’être
préfixées, à moins que vous supportiez encore Firefox 3.6, Safari iOS 3 ou
Android 2... Je vous renvoie rapidement sur ce (vieil) article de Chris Coyier
<a href="http://css-tricks.com/do-we-need-box-shadow-prefixes/">Do we need box-shadow or border-radius prefixes anymore?</a>
en guise de mémo :)</p>
<p>Sans être de mauvaise foi, on va vite avouer qu’on ne peut pas forcément tout
savoir. Donc on ne peut pas être au top pour connaître quand il faut ou quand il
n’y a plus besoin de préfixer x ou y (oui bon x et y ne sont pas des propriétés
CSS, c’est pour l’exemple). Qui sait qu’on peut enfin arrêter de préfixer
box-sizing dans Firefox depuis la 29 ? Ou la 30 je ne sais plus...</p>
<p>Bon mais alors comment faire ? J’entends les fayots du premier rang parler
d’auto... auto... AUTOPREFIXER ?!</p>
<p>MAIS C’EST POSSIBLE ÇA ?</p>
<p>Bon allons à l’essentiel, assez trollé.</p>
<h1>Autoprefixer</h1>
<p>Ce magnifique outil, basé sur une solide base de données (au hasard,
CanIUse.com), permet de préfixer automatiquement vos CSS, et ce, de manière
intelligente. Vous pouvez en effet configurer autoprefixer, afin de lui préciser
quel navigateur vous voulez utiliser. Vous pouvez au choix lui demander de
supporter X versions en arrière, les versions qui ont un usage global &gt; à Y% de
trafic, ou encore une version minimale donnée.</p>
<p>Voici quelques exemples de configuration.</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// Je supporte une version en arrière et les navigateurs qui ont plus de 1% de trafic ainsi qu&#x27;Internet Explorer 7</span>
autoprefixer(<span class="hljs-string">&quot;last 1 version&quot;</span>, <span class="hljs-string">&quot;&gt; 1%&quot;</span>, <span class="hljs-string">&quot;Explorer 7&quot;</span>).process(css).css;

<span class="hljs-comment">// Je supporte 2 versions en arrière, et minimum BlackBerry 10 et Android 4</span>
autoprefixer(<span class="hljs-string">&quot;last 2 version&quot;</span>, <span class="hljs-string">&quot;BlackBerry 10&quot;</span>, <span class="hljs-string">&quot;Android 4&quot;</span>).process(css).css;
</code></pre>
<p>Dans ces lignes de code JavaScript... Quoi attendez c’est en JavaScript ? Oh le
fourbe, il nous recale sa techno de front-end de mes deux. Bon faites pas les
relous, que vous soyez front-end ou back-end, vous avez Node.js hein ?</p>
<p>Donc aucune inquiétude, il existe une commande pour que vous puissiez faire ça
rapidement :</p>
<pre><code class="hljs language-console"><span class="hljs-meta">#</span><span class="bash"> on install autoprefixer via npm en global</span>
<span class="hljs-meta">$</span><span class="bash"> npm install --global autoprefixer</span>
<span class="hljs-meta">#</span><span class="bash"> ou pour les fainéants</span>
<span class="hljs-meta">$</span><span class="bash"> npm i -g autoprefixer</span>
<span class="hljs-meta">
#</span><span class="bash"> on prefixe !</span>
<span class="hljs-meta">$</span><span class="bash"> autoprefixer *.css</span>
</code></pre>
<p>Là bon de suite, réflexe, vous me sautez dessus à la gorge en me criant:</p>
<blockquote>
<p>NON MAIS T’AS CRU QUE J’ALLAIS TAPER LA COMMANDE À CHAQUE FOIS TOCARD ?</p>
</blockquote>
<p>No problem, comme tout outil bien foutu, il y’a une multitudes de façon de
l’utiliser :</p>
<ul>
<li>via <a href="https://github.com/ai/autoprefixer#nodejs">Node.js</a> directement,</li>
<li>en plugin <a href="https://www.npmjs.org/package/gulp-autoprefixer">Gulp</a>,</li>
<li>en plugin <a href="https://github.com/ai/autoprefixer#grunt">Grunt</a>,</li>
<li>via <a href="https://github.com/ai/autoprefixer#compass">Compass</a>,</li>
<li>en plugin <a href="https://github.com/ai/autoprefixer#stylus">Stylus</a>,</li>
<li>avec <a href="https://github.com/ai/autoprefixer#ruby-on-rails">RoR</a> ou
<a href="https://github.com/ai/autoprefixer#ruby">Ruby</a>,</li>
<li>avec l’application <a href="https://github.com/ai/autoprefixer#prepros">Prepros</a></li>
<li>via <a href="https://github.com/ai/autoprefixer#mincer">Mincer</a></li>
<li>via <a href="https://github.com/ai/autoprefixer#middleman">Middleman</a></li>
<li>avec <a href="https://github.com/ai/autoprefixer#php">PHP</a> (vous avez bien lu),</li>
</ul>
<p>Bien entendu, parfois, lorsqu’on fait un petit bout de CSS standalone, vous avez
aussi à dispo des plugins pour
<a href="https://github.com/sindresorhus/sublime-autoprefixer">Sublime Text</a> ou
<a href="https://github.com/mikaeljorhult/brackets-autoprefixer">Brackets</a> afin de ne
pas forcément avoir à utiliser les app ou process cités juste avant.</p>
<figure>
  <img src="/public/images/articles/2014-02-25-comment-en-finir-avec-les-prefixes-css/autoprefixer.gif" alt="sublime text autoprefixer preview" />
  <figcaption>Intégration dans Sublime Text</figcaption>
</figure>
<p>Cet outil est maintenant basé sur <a href="https://github.com/ai/postcss">PostCSS</a>, un
post-processeur CSS. Vous pouvez donc l’utiliser en plugin pour ce
post-procésseur.</p>
<p>Attends attends, un WAT ? Un <strong>POST</strong>-processeur ? Oui tu as bien lu car les
pré-processeurs c’est so 2000. Regarde par là
<a href="/fr/articles/css/preprocesseurs/">Le point sur les pré-processeurs CSS</a> ;)</p>
<p>Tout plein de -moz-bisous.</p>
<hr />
<p>PS: Convaincu par cette solution ? Tant mieux, elle est simple à mettre en
place. Tout ça est décrit dans la
<a href="/fr/articles/css/autoprefixer/mise-en-place/">mise en place d'autoprefixer</a>
avec des exemples concrets pour ajouter ça dans un workflow existant.</p>
</div><style data-emotion="rpcss unyj6i">.rpcss-unyj6i{max-width:640px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:20px auto;padding:20px;background-color:var(--page-background-color);border-radius:10px;box-shadow:0 15px 15px -5px rgba(0, 0, 0, 0.2);}@media (max-width: 540px){.rpcss-unyj6i{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="rpcss-unyj6i"><style data-emotion="rpcss ty7r4z">.rpcss-ty7r4z{font-weight:800;}</style><div class="rpcss-ty7r4z">Vous avez aimé cet article?</div><style data-emotion="rpcss klacsp">.rpcss-klacsp{width:0;height:10px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}</style><div class="rpcss-klacsp"></div><style data-emotion="rpcss 1pkr03v">.rpcss-1pkr03v{background-color:#00aced;color:#fff;padding:10px 20px;-webkit-text-decoration:none;text-decoration:none;border-radius:5px;font-weight:800;}.rpcss-1pkr03v:active{opacity:0.5;}</style><a class="rpcss-1pkr03v" href="https://www.twitter.com/intent/tweet?text=Comment%20en%20finir%20avec%20les%20pr%C3%A9fixes%20CSS%20sur%20%40PutainDeCode%20https%3A%2F%2Fputaindecode.io%2Farticles%2Fcomment-en-finir-avec-prefixes-css" target="_blank">Le partager sur Twitter</a></div><style data-emotion="rpcss x4iqxe">.rpcss-x4iqxe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center;padding:20px;}</style><div class="rpcss-x4iqxe"><style data-emotion="rpcss gein6x">.rpcss-gein6x{font-size:20px;-webkit-text-decoration:none;text-decoration:none;color:#1E49B5;}</style><a class="rpcss-gein6x" href="/articles">← Articles</a></div><style data-emotion="rpcss 8bodgl">.rpcss-8bodgl{max-width:640px;width:100%;margin:0 auto;padding:20px 0;}</style><div class="rpcss-8bodgl" id="disqus_thread"></div></div></div></div></div><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 1vau6rl">.rpcss-1vau6rl{margin:20px 0;background-color:var(--page-accented-background-color);border-radius:10px;padding:20px;}</style><div class="rpcss-1vau6rl"><style data-emotion="rpcss 1gz1i1h">.rpcss-1gz1i1h{font-size:32px;font-weight:800;margin-bottom:20px;text-align:center;}</style><div aria-level="2" class="rpcss-1gz1i1h" role="heading">Ne rien rater</div><style data-emotion="rpcss 1wbispj">.rpcss-1wbispj{font-size:18px;margin-bottom:10px;text-align:center;}</style><div aria-level="3" class="rpcss-1wbispj" role="heading">Sur les réseaux</div><style data-emotion="rpcss 1hyoz7m">.rpcss-1hyoz7m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}</style><div class="rpcss-1hyoz7m"><a href="https://twitter.com/PutainDeCode"><img alt="Twitter" height="48" src="/public/images/website/twitter.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://facebook.com/putaindecode"><img alt="Facebook" height="48" src="/public/images/website/facebook.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://github.com/putaindecode"><img alt="Facebook" height="48" src="/public/images/website/github.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://itunes.apple.com/fr/podcast/putain-de-code-!/id1185311825"><img alt="Apple Podcast" height="48" src="/public/images/website/apple-podcast.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://soundcloud.com/putaindecode"><img alt="Soundcloud" height="48" src="/public/images/website/soundcloud.svg" width="48"/></a></div><div aria-level="3" class="rpcss-1wbispj" role="heading">Sur le chat</div><div class="rpcss-1hyoz7m"><a href="https://discord.gg/jtbGNNc"><img alt="Discord" height="48" src="/public/images/website/discord.svg" width="48"/></a></div></div></div></div><style data-emotion="rpcss zs8kw7">.rpcss-zs8kw7{background-color:#222;padding:20px 0;}</style><footer class="rpcss-zs8kw7"><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 79elbk">.rpcss-79elbk{position:relative;}</style><div class="rpcss-79elbk"><style data-emotion="rpcss 1hle0ni">.rpcss-1hle0ni{position:absolute;left:0;top:50%;color:#fff;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a class="rpcss-1hle0ni" href="/api/articles/feeds/desc/feed.xml"><style data-emotion="rpcss lvyu5j">.rpcss-lvyu5j{margin-right:10px;}</style><img class="rpcss-lvyu5j" alt="Flux RSS" height="16" src="/public/images/website/rss-feed.svg" width="16"/><style data-emotion="rpcss um3i31">@media (max-width: 400px){.rpcss-um3i31{display:none;}}</style><div class="rpcss-um3i31">Flux RSS</div></a><style data-emotion="rpcss 12cp4l7">.rpcss-12cp4l7{color:rgba(255, 255, 255, 0.5);text-align:center;font-size:14px;}</style><div class="rpcss-12cp4l7">© 2021 Putain de code !</div><style data-emotion="rpcss 1w98uy3">.rpcss-1w98uy3{position:absolute;right:0;top:50%;color:#fff;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a class="rpcss-1w98uy3" href="https://github.com/putaindecode/putaindecode.io">GitHub</a></div></div></div></footer></div><script id="initialData" type="text/data">{"lists":{"RE_PRIVATE_NONE":true},"items":{"k":"articles","v":{"k":"comment-en-finir-avec-prefixes-css","v":{"_0":{"TAG":0,"_0":{"slug":"comment-en-finir-avec-prefixes-css","filename":"2014-02-25-comment-en-finir-avec-les-prefixes-css","title":"Comment en finir avec les préfixes CSS","date":"Tue, 25 Feb 2014 00:00:00 GMT","draft":false,"meta":{"date":"2014-02-25T00:00:00.000Z","title":"Comment en finir avec les préfixes CSS","author":"MoOx","oldSlug":"css/autoprefixer","slug":"comment-en-finir-avec-prefixes-css"},"body":"<p>En mettant de côté le débat trollesque <em>faut-il ou pas des préfixes CSS ?</em> (car\navouons-le, ils sont là, il faut faire avec), on ne va pas se le cacher, les\npréfixes CSS ça nous brise tous les... touches du clavier. Eh bien oui, sans\nautomatisation on est obligé de se taper des caractères en plus. Même avec un\nIDE correct, on peut faire ça rapidement, mais ça nécessite presque à chaque\nfois une action de notre part.</p>\n<h2>Préfixer via des outils en ligne</h2>\n<p>Les élèves au fond de la classe me montreront de suite des solutions comme\n<a href=\"http://prefixmycss.com/\">prefixmycss.com</a> ou l'ancien prefixr. Inopinément, un\nmoche &quot;Mourrez moi sile vou pler&quot; sort de mon corps. Non, sérieusement, ce n’est\npas une façon de faire ça. Aller sur une web app à chaque fois que je veux\npréfixer mes CSS ? Sérieusement ? Vous avez qu’à aussi faire un service postal\noù j’envoie mes fichiers CSS dans une clé USB et qu’on me renvoie sous 48h avec\nles préfixes ajoutés. Super pratique.</p>\n<h2>Préfixer via JavaScript</h2>\n<p>Une autre solution serait <a href=\"http://leaverou.github.io/prefixfree/\">prefix-free</a>,\nmais je ne vais même pas en parler tellement l’idée de dépendre de JavaScript\npour avoir un <code>border-radius</code> ou une <code>transition</code> CSS me donne une migraine. Je\nvous passe les détails niveau performance. Selon les cas, on pourrait même avoir\nun petit flash visuel sans les propriétés préfixées. Non mais flûte. On ne fait\npas ça. On n’alourdit pas une page web avec du JavaScript pour parser la feuille\nde style et réintégrer des préfixes quoi. Au secours.</p>\n<h2>Préfixer via les pré-processeurs CSS</h2>\n<p>Alors là, j’en entends déjà qui parle à voix haute au milieu de la classe :</p>\n<blockquote>\n<p>Bah lui c’est clair il’connait pas les pré-processeurs CSS le noube</p>\n</blockquote>\n<p>Sans rentrer dans un débat trollesque (encore un), à part peut-être avec\n<em>Stylus</em> et ces mixins transparent (coucou\n<em><a href=\"http://visionmedia.github.io/nib/\">Nib</a></em>), on est obligé de rajouter du code.\nAvec <em>Sass</em> il faudra (en scss) rajouter <code>@include</code> et un couple de parenthèse\n(et au passage avoir <em>Compass</em> si on ne veut pas coder les mixins à la main).\nAvec <em>Less</em> il faudra aussi une librairie <em>Less Hat</em> si on n’a pas envie de se\ntaper du mixin qui donne de la nausée comme on peut voir sur la\n<a href=\"http://lesscss.org/\">page d’accueil</a>.</p>\n<h2>Les préfixes, c’est comme le lait, ça tourne</h2>\n<p>D’ailleurs, parlons en vite fait de cette page d’accueil qui au jour où j’écris\nce post, comporte <b>en premier exemple</b> un mixin pour <code>box-shadow</code> (hashtag\nohlol).</p>\n<p>Certaines propriétés comme <code>box-shadow</code>, ou encore <code>border-radius</code>, sont\naujourd’hui préfixées à tort, car comme on peut le voir sur le site de\n<a href=\"http://caniuse.com/\">CanIUse.com</a>, elles n’ont plus vraiment besoin d’être\npréfixées, à moins que vous supportiez encore Firefox 3.6, Safari iOS 3 ou\nAndroid 2... Je vous renvoie rapidement sur ce (vieil) article de Chris Coyier\n<a href=\"http://css-tricks.com/do-we-need-box-shadow-prefixes/\">Do we need box-shadow or border-radius prefixes anymore?</a>\nen guise de mémo :)</p>\n<p>Sans être de mauvaise foi, on va vite avouer qu’on ne peut pas forcément tout\nsavoir. Donc on ne peut pas être au top pour connaître quand il faut ou quand il\nn’y a plus besoin de préfixer x ou y (oui bon x et y ne sont pas des propriétés\nCSS, c’est pour l’exemple). Qui sait qu’on peut enfin arrêter de préfixer\nbox-sizing dans Firefox depuis la 29 ? Ou la 30 je ne sais plus...</p>\n<p>Bon mais alors comment faire ? J’entends les fayots du premier rang parler\nd’auto... auto... AUTOPREFIXER ?!</p>\n<p>MAIS C’EST POSSIBLE ÇA ?</p>\n<p>Bon allons à l’essentiel, assez trollé.</p>\n<h1>Autoprefixer</h1>\n<p>Ce magnifique outil, basé sur une solide base de données (au hasard,\nCanIUse.com), permet de préfixer automatiquement vos CSS, et ce, de manière\nintelligente. Vous pouvez en effet configurer autoprefixer, afin de lui préciser\nquel navigateur vous voulez utiliser. Vous pouvez au choix lui demander de\nsupporter X versions en arrière, les versions qui ont un usage global &gt; à Y% de\ntrafic, ou encore une version minimale donnée.</p>\n<p>Voici quelques exemples de configuration.</p>\n<pre><code class=\"hljs language-js\"><span class=\"hljs-comment\">// Je supporte une version en arrière et les navigateurs qui ont plus de 1% de trafic ainsi qu&#x27;Internet Explorer 7</span>\nautoprefixer(<span class=\"hljs-string\">&quot;last 1 version&quot;</span>, <span class=\"hljs-string\">&quot;&gt; 1%&quot;</span>, <span class=\"hljs-string\">&quot;Explorer 7&quot;</span>).process(css).css;\n\n<span class=\"hljs-comment\">// Je supporte 2 versions en arrière, et minimum BlackBerry 10 et Android 4</span>\nautoprefixer(<span class=\"hljs-string\">&quot;last 2 version&quot;</span>, <span class=\"hljs-string\">&quot;BlackBerry 10&quot;</span>, <span class=\"hljs-string\">&quot;Android 4&quot;</span>).process(css).css;\n</code></pre>\n<p>Dans ces lignes de code JavaScript... Quoi attendez c’est en JavaScript ? Oh le\nfourbe, il nous recale sa techno de front-end de mes deux. Bon faites pas les\nrelous, que vous soyez front-end ou back-end, vous avez Node.js hein ?</p>\n<p>Donc aucune inquiétude, il existe une commande pour que vous puissiez faire ça\nrapidement :</p>\n<pre><code class=\"hljs language-console\"><span class=\"hljs-meta\">#</span><span class=\"bash\"> on install autoprefixer via npm en global</span>\n<span class=\"hljs-meta\">$</span><span class=\"bash\"> npm install --global autoprefixer</span>\n<span class=\"hljs-meta\">#</span><span class=\"bash\"> ou pour les fainéants</span>\n<span class=\"hljs-meta\">$</span><span class=\"bash\"> npm i -g autoprefixer</span>\n<span class=\"hljs-meta\">\n#</span><span class=\"bash\"> on prefixe !</span>\n<span class=\"hljs-meta\">$</span><span class=\"bash\"> autoprefixer *.css</span>\n</code></pre>\n<p>Là bon de suite, réflexe, vous me sautez dessus à la gorge en me criant:</p>\n<blockquote>\n<p>NON MAIS T’AS CRU QUE J’ALLAIS TAPER LA COMMANDE À CHAQUE FOIS TOCARD ?</p>\n</blockquote>\n<p>No problem, comme tout outil bien foutu, il y’a une multitudes de façon de\nl’utiliser :</p>\n<ul>\n<li>via <a href=\"https://github.com/ai/autoprefixer#nodejs\">Node.js</a> directement,</li>\n<li>en plugin <a href=\"https://www.npmjs.org/package/gulp-autoprefixer\">Gulp</a>,</li>\n<li>en plugin <a href=\"https://github.com/ai/autoprefixer#grunt\">Grunt</a>,</li>\n<li>via <a href=\"https://github.com/ai/autoprefixer#compass\">Compass</a>,</li>\n<li>en plugin <a href=\"https://github.com/ai/autoprefixer#stylus\">Stylus</a>,</li>\n<li>avec <a href=\"https://github.com/ai/autoprefixer#ruby-on-rails\">RoR</a> ou\n<a href=\"https://github.com/ai/autoprefixer#ruby\">Ruby</a>,</li>\n<li>avec l’application <a href=\"https://github.com/ai/autoprefixer#prepros\">Prepros</a></li>\n<li>via <a href=\"https://github.com/ai/autoprefixer#mincer\">Mincer</a></li>\n<li>via <a href=\"https://github.com/ai/autoprefixer#middleman\">Middleman</a></li>\n<li>avec <a href=\"https://github.com/ai/autoprefixer#php\">PHP</a> (vous avez bien lu),</li>\n</ul>\n<p>Bien entendu, parfois, lorsqu’on fait un petit bout de CSS standalone, vous avez\naussi à dispo des plugins pour\n<a href=\"https://github.com/sindresorhus/sublime-autoprefixer\">Sublime Text</a> ou\n<a href=\"https://github.com/mikaeljorhult/brackets-autoprefixer\">Brackets</a> afin de ne\npas forcément avoir à utiliser les app ou process cités juste avant.</p>\n<figure>\n  <img src=\"/public/images/articles/2014-02-25-comment-en-finir-avec-les-prefixes-css/autoprefixer.gif\" alt=\"sublime text autoprefixer preview\" />\n  <figcaption>Intégration dans Sublime Text</figcaption>\n</figure>\n<p>Cet outil est maintenant basé sur <a href=\"https://github.com/ai/postcss\">PostCSS</a>, un\npost-processeur CSS. Vous pouvez donc l’utiliser en plugin pour ce\npost-procésseur.</p>\n<p>Attends attends, un WAT ? Un <strong>POST</strong>-processeur ? Oui tu as bien lu car les\npré-processeurs c’est so 2000. Regarde par là\n<a href=\"/fr/articles/css/preprocesseurs/\">Le point sur les pré-processeurs CSS</a> ;)</p>\n<p>Tout plein de -moz-bisous.</p>\n<hr />\n<p>PS: Convaincu par cette solution ? Tant mieux, elle est simple à mettre en\nplace. Tout ça est décrit dans la\n<a href=\"/fr/articles/css/autoprefixer/mise-en-place/\">mise en place d'autoprefixer</a>\navec des exemples concrets pour ajouter ça dans un workflow existant.</p>\n"}}},"h":1,"l":{"RE_PRIVATE_NONE":true},"r":{"RE_PRIVATE_NONE":true}},"h":1,"l":{"RE_PRIVATE_NONE":true},"r":{"RE_PRIVATE_NONE":true}},"listsRequests":{"data":{"RE_PRIVATE_NONE":true}},"itemsRequests":{"data":{"RE_PRIVATE_NONE":true}}}</script><head><script defer="defer" src="/public/main.56c69761a03eb0112696.js"></script></head></html>