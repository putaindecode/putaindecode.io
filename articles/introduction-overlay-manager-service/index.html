<!DOCTYPE html><html lang="fr"><head><title data-react-helmet="true">Introduction à l&#x27;Overlay Manager Service, expliqué par quelqu&#x27;un qui n&#x27;y connaît rien | Putain de code</title><meta data-react-helmet="true" charset="UTF-8"/><meta data-react-helmet="true" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover" name="viewport"/><meta data-react-helmet="true" content="summary_large_image" name="twitter:card"/><meta data-react-helmet="true" content="Putain de code !" property="og:site_name"/><meta data-react-helmet="true" content="@putaindecode" name="twitter:site"/><meta data-react-helmet="true" content="https://putaindecode.io/public/images/website/share.jpg" property="og:image"/><meta data-react-helmet="true" content="https://putaindecode.io/public/images/website/share.jpg" name="twitter:image"/><meta data-react-helmet="true" content="1500" property="og:image:width"/><meta data-react-helmet="true" content="777" property="og:image:height"/><meta data-react-helmet="true" content="Introduction à l&#x27;Overlay Manager Service, expliqué par quelqu&#x27;un qui n&#x27;y connaît rien | Putain de code" property="og:title"/><meta data-react-helmet="true" content="Introduction à l&#x27;Overlay Manager Service, expliqué par quelqu&#x27;un qui n&#x27;y connaît rien | Putain de code" name="twitter:title"/><meta data-react-helmet="true" content="Un article proposé par jojmaht" name="description"/><link data-react-helmet="true" title="RSS Feed" href="/api/articles/feeds/desc/feed.xml" rel="alternate" type="application/rss+xml"/><link data-react-helmet="true" href="/favicon.ico" rel="shortcut icon"/><link data-react-helmet="true" href="https://putaindecode.io/articles/introduction-overlay-manager-service" rel="canonical"/><script>window.PAGES_BOOT_MODE="hydrate";</script></head><div id="root"><style data-emotion="rpcss zx73cm 1lc6tyj 28v1b4">@-webkit-keyframes animation-zx73cm{from{opacity:0;-webkit-transform:translateY(20px);-moz-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}}@keyframes animation-zx73cm{from{opacity:0;-webkit-transform:translateY(20px);-moz-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}}:root{--page-background-color:#fff;--page-slightly-accented-background-color:#F9F6F6;--page-accented-background-color:#E4EBEE;--page-text-color:#46515B;--link-text-color:#E51D58;--gradient-red-top:#E51D58;--gradient-red-bottom:#CC0613;--code-background-color:#FAF3E1;--one-percent-contrast-color:rgba(0, 0, 0, 0.1);--half-percent-contrast-color:rgba(0, 0, 0, 0.05);}@media (prefers-color-scheme: dark){:root{--page-background-color:#222;--page-slightly-accented-background-color:#171717;--page-accented-background-color:#111;--page-text-color:#ddd;--link-text-color:#F87098;--gradient-red-top:#E51D58;--gradient-red-bottom:#CC0613;--code-background-color:#4F3804;--one-percent-contrast-color:rgba(255, 255, 255, 0.1);--half-percent-contrast-color:rgba(255, 255, 255, 0.05);}}body{padding:0;margin:0;background-color:var(--page-background-color);color:var(--page-text-color);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;overflow-x:hidden;}html{font-size:1em;line-height:1.4;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;}a{color:var(--link-text-color);-webkit-text-decoration:underline;text-decoration:underline;}a:hover{-webkit-text-decoration:none;text-decoration:none;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}*,*:before,*:after{box-sizing:border-box;}pre,.hljs{color:#adbac7;background:#22272e;}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067;}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb;}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-variable,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id{color:#6cb6ff;}.hljs-regexp,.hljs-string,.hljs-meta .hljs-string{color:#96d0ff;}.hljs-built_in,.hljs-symbol{color:#f69d50;}.hljs-comment,.hljs-code,.hljs-formula{color:#768390;}.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo{color:#8ddb8c;}.hljs-subst{color:#adbac7;}.hljs-section{color:#316dca;font-weight:bold;}.hljs-bullet{color:#eac55f;}.hljs-emphasis{color:#adbac7;font-style:italic;}.hljs-strong{color:#adbac7;font-weight:bold;}.hljs-addition{color:#b4f1b4;background-color:#1b4721;}.hljs-deletion{color:#ffd8d3;background-color:#78191b;}</style><style data-emotion="rpcss 9vhaby">.rpcss-9vhaby{background-color:var(--gradient-red-bottom);background-image:linear-gradient(to bottom right, var(--gradient-red-top), var(--gradient-red-bottom));}</style><header class="rpcss-9vhaby" style="background-image:linear-gradient(to bottom right, hsl(189, 100%, 35%), hsl(157, 100%, 30%))"><style data-emotion="rpcss 1qqk0tr">.rpcss-1qqk0tr{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);}</style><div class="rpcss-1qqk0tr"><style data-emotion="rpcss qx7dny">.rpcss-qx7dny{width:100%;max-width:1024px;margin:0 auto;padding:0 10px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}</style><div class="rpcss-qx7dny"><style data-emotion="rpcss 7s9om2">.rpcss-7s9om2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:20px 0 50px;}</style><div class="rpcss-7s9om2"><style data-emotion="rpcss gdpa5c">.rpcss-gdpa5c{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;}</style><a class="rpcss-gdpa5c" href="/"><style data-emotion="rpcss 1lm4738">.rpcss-1lm4738{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;padding-bottom:10px;}</style><div class="rpcss-1lm4738"><style data-emotion="rpcss 13o7eu2">.rpcss-13o7eu2{display:block;}</style><svg class="rpcss-13o7eu2" height="36px" width="36px" viewBox="0 0 36 36"><defs><linearGradient id="PutainDeCodeLogoGradient" x1="50%" x2="50%" y1="0%" y2="127.223881%"><stop offset="0%" stop-color="#E41D57"></stop><stop offset="100%" stop-color="#C60000"></stop></linearGradient></defs><circle cx="18" cy="18" fill="url(#PutainDeCodeLogoGradient)" r="17" stroke="#FFFFFF" stroke-width="2"></circle><polygon fill="#FFFFFF" points="15.9033203 18.2246094 15.9033203 18.3710938 11.2304688 20.5317383 11.2304688 22.8095703 18.0566406 19.184082 18.0566406 17.4116211 11.2304688 13.7788086 11.2304688 16.0639648"></polygon><rect height="14" width="2" fill="#FFFFFF" x="22" y="11"><animate attributeName="opacity" begin="100ms" calcMode="discrete" dur="2s" repeatCount="indefinite" values="1;0"></animate></rect></svg><style data-emotion="rpcss 4cf197">.rpcss-4cf197{width:10px;height:10px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}</style><div class="rpcss-4cf197"></div><style data-emotion="rpcss u5k24">.rpcss-u5k24{font-size:22px;color:#fff;font-weight:800;}</style><div aria-level="2" class="rpcss-u5k24" role="heading">Putain de code !</div></div><style data-emotion="rpcss 1nyebg4">.rpcss-1nyebg4{font-size:14px;color:rgba(255, 255, 255, 0.8);text-align:center;}</style><div class="rpcss-1nyebg4">Blog participatif de la communauté dev</div></a></div></div></div></header><style data-emotion="rpcss a4ric9">.rpcss-a4ric9{background-color:var(--page-slightly-accented-background-color);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="rpcss-a4ric9"><style data-emotion="rpcss oeugsb">.rpcss-oeugsb{-webkit-animation:500ms ease-out animation-zx73cm;animation:500ms ease-out animation-zx73cm;}</style><div class="rpcss-oeugsb"><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 1qc2bam">.rpcss-1qc2bam{font-size:42px;font-weight:800;text-align:center;padding-top:40px;line-height:1.2;margin:0;}</style><h1 class="rpcss-1qc2bam">Introduction à l&#x27;Overlay Manager Service, expliqué par quelqu&#x27;un qui n&#x27;y connaît rien</h1><style data-emotion="rpcss obg2kr">.rpcss-obg2kr{font-size:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:40px;color:var(--page-text-color);-webkit-text-decoration:none;text-decoration:none;}</style><a class="rpcss-obg2kr" href="https://github.com/jojmaht"><style data-emotion="rpcss uco8i7">.rpcss-uco8i7{width:32px;height:32px;border-radius:100%;margin-right:10px;}</style><img class="rpcss-uco8i7" alt="jojmaht" src="https://avatars.githubusercontent.com/jojmaht?size=64"/><div>jojmaht<!-- --> <!-- -->•<!-- --> <!-- -->2017/11/02</div></a><style data-emotion="rpcss 15kxmi0">.rpcss-15kxmi0{max-width:640px;width:100%;font-size:18px;margin:0 auto;line-height:1.7;}.rpcss-15kxmi0 h2,.rpcss-15kxmi0 h3,.rpcss-15kxmi0 h4,.rpcss-15kxmi0 h5,.rpcss-15kxmi0 h6{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-weight:800;line-height:1.2;}.rpcss-15kxmi0 img{max-width:100%;background-color:rgba(255, 255, 255, 0.75);}.rpcss-15kxmi0 code{font-size:0.9em;font-family:PragmataPro,SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:1;background-color:var(--code-background-color);margin:0 0.2em;}.rpcss-15kxmi0 pre{padding:10px;overflow-x:auto;font-size:14px;border-radius:10px;border:2px solid var(--one-percent-contrast-color);-webkit-overflow-scrolling:touch;}.rpcss-15kxmi0 pre code{font-size:14px;background-color:transparent;margin:0;}.rpcss-15kxmi0 blockquote{padding-left:20px;margin:0;font-size:16px;border-left:3px solid var(--one-percent-contrast-color);font-style:italic;}.rpcss-15kxmi0 table{width:100%;text-align:center;}.rpcss-15kxmi0 figure{padding:20px 0;}.rpcss-15kxmi0 figcaption{text-align:center;}.rpcss-15kxmi0 a{word-wrap:break-word;}.rpcss-15kxmi0 table thead th{background-color:var(--page-accented-background-color);padding:10px 0;}</style><div class="rpcss-15kxmi0"><blockquote>
<p>DISCLAIMER : J'entrave pas un keyword de Java, j'ai jamais développé une seule
app native, et plus globalement, je ne connais vraiment pas mon sujet. Ainsi,
si quelqu'un s'y connaissant mieux que moi passe par là, qu'il n'hésite
surtout pas à me corriger et à m'afficher devant la planète entière, j'ai
besoin de nourrir mon syndrome de l'imposteur.</p>
</blockquote>
<p>Salut les copains aujourd'hui tonton FoetusBoy (SkinnyFoetusDaron) (moi) va vous
parler d'un sujet qu'il ne connaît pas et qui s'insèrera à ce titre aux côtés
d'autres sujets qu'il ne connaît pas tels que la joie de vivre, les souvenirs
des jours joyeux et comment ne pas parler de soi à la troisième personne.</p>
<p>Ouvrez vos calepins à la page bullshit, on va faire un cours sur l'Overlay
Manager Service (ou OMS) d'Android, sur comment ça fonctionne et comment vous
allez pouvoir l'utiliser pour faire des trucs moches.</p>
<figure>
  <img src="/public/images/articles/2017-11-02-introduction-overlay-manager-service/OMS-moche.png" alt="hahaha comment c'est trop moche" />
  <figcaption>J'ai séché les cours de théorie des couleurs</figcaption>
</figure>
<p>Okay alors maintenant que vos rétines sont perpétuellement démolies par cette
capture d'écran et que votre curiosité est piquée au vif, on attaque le cours
d'histoire. Fin 2015, deux ingénieurs de chez Sony Mobile, Mårten Kongstad et
Martin Wallgren, que j'identifie à 99% de chances comme étant probablement tous
les deux Suédois (et qui illustrent bien l'inventivité de ce peuple lorsqu'il
s'agit de trouver toutes les façons de nommer quelqu'un Martin), coécrivent un
commit dans l'AOSP (Android Open-Source Project), sous le chouette identifiant
&quot;OMS: introduce the OverlayManagerService&quot;. Cet événement est chouette pour deux
raisons :</p>
<ul>
<li>La première est qu'Android étant malgré le contrôle de Google un projet
open-source, c'est toujours intéressant de voir les constructeurs participer
un peu au projet (les mauvaises langues diront que seul Sony joue vraiment le
jeu de l'open-source et les mauvaises langues n'auraient pas vraiment tort).</li>
<li>La deuxième est que ça marque l'arrivée sur Android d'un véritable système de
theming (thématisation en Français, donc je vais dire theming plutôt hein),
permettant ainsi aux constructeurs d'implémenter leurs customisations de façon
beaucoup plus souple et surtout aux initiés (moi et bientôt vous) de s'amuser
un peu.</li>
<li>Troisième raison (bonus) : C'était bientôt Noël et cette année-là on m'avait
offert un joli manteau.</li>
</ul>
<p>Commençons. Comme son nom l'indique si vous parlez la langue de Jay-Z, l'Overlay
Manager Service est un service de gestion de surcouches.</p>
<figure>
  <img src="/public/images/articles/2017-11-02-introduction-overlay-manager-service/jayz.png" alt="" />
  <figcaption>Si votre Google Translate n'a pas l'option de traduction de Jay-Z vers Molière c'est que vous n'avez pas souscrit à un abonnement Translate Gold</figcaption>
</figure>
<p>L'OMS est lui-même le successeur du RRO, pour &quot;Runtime Resource Overlay&quot;, ancien
système propriétaire de Sony Mobile, utilisé en interne pour déployer et
paramétrer rapidement leur surcouche à Android en fonction des demandes et
besoins des opérateurs et des mises à jour d'Android lui-même ou bien pour faire
fonctionner les Thèmes Xperia (on connaît Sony assez friands de la customisation
par les utilisateurs depuis la sortie de la PS3, surtout quand il s'agit de
vendre des thèmes à 25$).</p>
<p>Ce Runtime Resource Overlay (surcouches de ressources à l'exécution) s'opposait
à l'outil Static Resource Overlay (surcouches de ressources statiques), un flag
du packager d'Android (aapt) qui était comme qui dirait &quot;bien mais pas top&quot; : il
permettait de séparer le code source d'une application de sa surcouche pour
garder une base de travail propre (bien) mais ces surcouches ne pouvaient être
installées qu'à la compilation de l'app, les rendant donc chiantes à débugger et
nécessitaient plus ou moins qu'on soit le vendor original de l'application à
modifier (pas top). Le principal intérêt du RRO était donc de faire sauter ces
&quot;barrières&quot;.</p>
<p>Voyant donc que l'un des principaux reproches faits à Android, à raison ou à
tort (à raison hein, on va pas se mentir) était sa fragmentation et que l'un de
ses facteurs (mais non le seul) était lié aux <em>vendors</em> (Samsung.) mettant trop
de temps à recoder leur surcouche de A à Z à chaque version d'Android (et que de
toute façon pourquoi s'emmerder à mettre à jour un téléphone gratuitement alors
que tu peux en vendre un nouveau pour 700 pétrodollars <em>allez achète, vil
consommateur</em> ?) les braves petits ingés de chez Sony ont préféré faire une
petite PR sympa du côté de l'AOSP pour ajouter ce système de surcouches en natif
dans Android. Resté dormant pendant quelques temps, l'OMS a enfin été activé de
façon officielle (à peu près) par Google, lors de la sortie d'Android 8.0 Oreo,
qui en tire une utilité assez basique mais prometteuse : changer littéralement
une seule couleur dans l'interface, spécifiquement pour les téléphones Pixel.</p>
<figure>
  <img src="/public/images/articles/2017-11-02-introduction-overlay-manager-service/epoustouflan.png" alt="époustouflan" />
  <figcaption>époustouflan</figcaption>
</figure>
<p>Ça peut paraître peu mais c'est finalement ce genre de modifications à la con
qui peut considérablement ralentir le portage d'une nouvelle version d'Android
sur un device existant. Ouvrons un peu le ventre de la bête.</p>
<p>Un overlay, ça fonctionne assez simplement. Il prend la forme d'un Android
PacKage (ci-après APK), le format standard des applications Android, genre de
point JAR survitaminé, qu'il conviendra donc de signer s'il vous plaît merci
c'est important bonne journée, si vous comptez l'installer par vous-même en
dehors de l'IDE consacré (Android Studio, donc). De par sa nature d'APK, un
overlay devra donc contenir un AndroidManifest.xml, sorte de package.json si je
devais faire une équivalence avec le dev web, cet AndroidManifest donc, qui
prendra la forme suivante :</p>
<pre><code><?xml version="1.0" encoding="utf-8" standalone="no"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" package="LePetitNomDeMonPackage">
    <overlay android:priority="1000" android:targetPackage="LePetitNomDuPackageCible"/>
</manifest>
</code></pre>
<p>Mettons les points sur les i et définissons immédiatement ce qu'un overlay n'est
pas : un overlay n'est <em>pas</em> une extension d'application, il ne peut en aucun
cas rajouter des fonctionnalités à une application existante, de la même manière
que vous galéreriez à rajouter des features à un site existant juste en
modifiant son CSS. En somme, à peu de choses près, un overlay se réduit à une
feuille de style où toutes les déclarations seraient faites avec <code>!important</code> et
comme on aime les bonnes pratiques bien maintenables chez PutainDeCode on vous
rappellera de ne <em>JAMAIS</em> faire ça s'il vous plaît.</p>
<p>Là où la comparaison s'arrête c'est que contrairement à CSS, les ressources
d'une application ne comprennent pas que les couleurs et occasionnellement les
dimensions des blocs, mais peuvent renfermer les icônes, les sons, les images,
et à peu près tout ce que le développeur original a voulu foutre dedans.</p>
<p>En résumé, rajouter une feature pour envoyer des SMS depuis votre lecteur de
musique : c'est non; remplacer toutes les couleurs d'une appli par du rose, les
typos par du Comic Sans MS et les sons d'interactions par le bruit d'un canard
qui fait &quot;Coin coin&quot; : c'est oui.</p>
<p>D'ailleurs on va rendre l'application Calculatrice (dont le nom de package est
&quot;com.google.android.calculator&quot;, ça servira plus tard) toute rose parce que
pourquoi pas. En décompilant donc l'APK à l'aide de notre fidèle
<a href="https://ibotpeaches.github.io/Apktool/">apktool</a>, nous voilà dans le cœur du
code, dans la matrice, dans la mer numérique, bref, dans un sacré paquet de
fichiers XML.</p>
<figure>
  <img src="/public/images/articles/2017-11-02-introduction-overlay-manager-service/chosenOne.png" alt="Mes collègues détestent que je dise I'm in à chaque fois que je fais un git pull" />
  <figcaption>*hacker voice* I'm in</figcaption>
</figure>
<p>Selon toute logique, la gestion des couleurs de l'app va probablement se
retrouver dans un fichier qui s'appelle à peu près <code>colors.xml</code>, ce qui n'est
pas étonnant parce que c'est comme ça qu'on nomme ses fichiers quand on veut s'y
retrouver, j'ai appris ça à l'école quand je mettais des gommettes sur mes
cahiers. Il s'agit donc maintenant de voir ce à quoi sert chaque valeur dans ce
fichier. Si vous arrivez à déduire le code hexa d'une couleur juste en la
regardant, félicitations, vous êtes probablement un Terminator. Pour ceux qui ne
sont pas des robots tueurs venus du turfu, faire une capture d'écran de
l'application et ouvrir celle-ci dans Photoshop fonctionne très bien aussi.</p>
<figure>
  <img src="/public/images/articles/2017-11-02-introduction-overlay-manager-service/colors.png" alt="Featuring l'outil pipette de Photoshop, on applaudit l'outil pipette de Photoshop" />
  <figcaption>Devinez à quel moment j'en ai eu marre de faire de belles flèches bien droites</figcaption>
</figure>
<p>Les trois valeurs nous intéressant sont donc <code>pad_advanced_background_color</code>,
<code>pad_numeric_background_color</code> et <code>pad_operator_background_color</code> qui sont
finalement assez bien nommées. Vous remarquerez que les couleurs sont au format
#aarrggbb et non pas #rrggbb, donc faites gaffe quand vous tripotez ça et que
vous remplacez les couleurs par du rose (j'ai choisi le Bubblegum Pink de
Pantone mais si vous préférez d'autres teintes de rose, libre à vous). Il s'agit
maintenant de créer un nouveau fichier colors.xml dans notre
<a href="https://github.com/jojmaht/OMS-template">template OMS</a> qu'on va remplir
ainsi :</p>
<pre><code class="hljs language-xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">color</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pad_advanced_background_color&quot;</span>&gt;</span>#fff4cbd4<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">color</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pad_numeric_background_color&quot;</span>&gt;</span>#fff4cbd4<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">color</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pad_operator_background_color&quot;</span>&gt;</span>#fff4cbd4<span class="hljs-tag">&lt;/<span class="hljs-name">color</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
</code></pre>
<p>Puis nous pouvons enfin compiler notre chef d'œuvre (toujours avec apktool) puis
l'installer sur notre appareil, non sans l'avoir
<a href="https://stackoverflow.com/questions/10930331/how-to-sign-an-already-compiled-apk">au préalable signé</a>,
puis enfin de l'appliquer via la commande</p>
<pre><code>adb shell cmd overlay enable [le namespace de votre package que vous avez spécifié dans AndroidManifest.xml, moi par exemple c'est "com.sfb.pinkcalc"]
</code></pre>
<p>(il faut que votre téléphone soit en mode Développeur et que vous tourniez sous
Android Oreo minimum sinon ça ne marchera pas, pas la peine de me demander pour
faire marcher ça sur votre téléphone si vous êtes sous Gingerbread, tout ce que
je ferai ce sera me moquer de vous).</p>
<p>Admirons ce merdier, maintenant.</p>
<figure>
  <img src="/public/images/articles/2017-11-02-introduction-overlay-manager-service/fuckthatspink.png" alt="Sans rire, depuis l'écriture de cet article j'ai pas désactivé cet overlay, j'aime vraiment le look que ça donne à l'app calculatrice" />
  <figcaption>Absolument splendide.</figcaption>
</figure>
<p>C'est à peu près tout pour l'OMS, pour les bases du moins, n'hésitez surtout pas
à décompiler toutes les apps que vous trouvez pour voir un peu comment ça marche
à l'intérieur, c'est aussi pour ça que c'est cool Android. Allez faire vos
propres trucs moches maintenant. <em>Ciao.</em></p>
</div><style data-emotion="rpcss unyj6i">.rpcss-unyj6i{max-width:640px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:20px auto;padding:20px;background-color:var(--page-background-color);border-radius:10px;box-shadow:0 15px 15px -5px rgba(0, 0, 0, 0.2);}@media (max-width: 540px){.rpcss-unyj6i{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="rpcss-unyj6i"><style data-emotion="rpcss ty7r4z">.rpcss-ty7r4z{font-weight:800;}</style><div class="rpcss-ty7r4z">Vous avez aimé cet article?</div><style data-emotion="rpcss klacsp">.rpcss-klacsp{width:0;height:10px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}</style><div class="rpcss-klacsp"></div><style data-emotion="rpcss 1pkr03v">.rpcss-1pkr03v{background-color:#00aced;color:#fff;padding:10px 20px;-webkit-text-decoration:none;text-decoration:none;border-radius:5px;font-weight:800;}.rpcss-1pkr03v:active{opacity:0.5;}</style><a class="rpcss-1pkr03v" href="https://www.twitter.com/intent/tweet?text=Introduction%20%C3%A0%20l&#x27;Overlay%20Manager%20Service%2C%20expliqu%C3%A9%20par%20quelqu&#x27;un%20qui%20n&#x27;y%20conna%C3%AEt%20rien%20sur%20%40PutainDeCode%20https%3A%2F%2Fputaindecode.io%2Farticles%2Fintroduction-overlay-manager-service" target="_blank">Le partager sur Twitter</a></div><style data-emotion="rpcss x4iqxe">.rpcss-x4iqxe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center;padding:20px;}</style><div class="rpcss-x4iqxe"><style data-emotion="rpcss gein6x">.rpcss-gein6x{font-size:20px;-webkit-text-decoration:none;text-decoration:none;color:#1E49B5;}</style><a class="rpcss-gein6x" href="/articles">← Articles</a></div><style data-emotion="rpcss 8bodgl">.rpcss-8bodgl{max-width:640px;width:100%;margin:0 auto;padding:20px 0;}</style><div class="rpcss-8bodgl" id="disqus_thread"></div></div></div></div></div><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 1vau6rl">.rpcss-1vau6rl{margin:20px 0;background-color:var(--page-accented-background-color);border-radius:10px;padding:20px;}</style><div class="rpcss-1vau6rl"><style data-emotion="rpcss 1gz1i1h">.rpcss-1gz1i1h{font-size:32px;font-weight:800;margin-bottom:20px;text-align:center;}</style><div aria-level="2" class="rpcss-1gz1i1h" role="heading">Ne rien rater</div><style data-emotion="rpcss 1wbispj">.rpcss-1wbispj{font-size:18px;margin-bottom:10px;text-align:center;}</style><div aria-level="3" class="rpcss-1wbispj" role="heading">Sur les réseaux</div><style data-emotion="rpcss 1hyoz7m">.rpcss-1hyoz7m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}</style><div class="rpcss-1hyoz7m"><a href="https://twitter.com/PutainDeCode"><img alt="Twitter" height="48" src="/public/images/website/twitter.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://facebook.com/putaindecode"><img alt="Facebook" height="48" src="/public/images/website/facebook.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://github.com/putaindecode"><img alt="Facebook" height="48" src="/public/images/website/github.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://itunes.apple.com/fr/podcast/putain-de-code-!/id1185311825"><img alt="Apple Podcast" height="48" src="/public/images/website/apple-podcast.svg" width="48"/></a><div class="rpcss-4cf197"></div><a href="https://soundcloud.com/putaindecode"><img alt="Soundcloud" height="48" src="/public/images/website/soundcloud.svg" width="48"/></a></div><div aria-level="3" class="rpcss-1wbispj" role="heading">Sur le chat</div><div class="rpcss-1hyoz7m"><a href="https://discord.gg/jtbGNNc"><img alt="Discord" height="48" src="/public/images/website/discord.svg" width="48"/></a></div></div></div></div><style data-emotion="rpcss zs8kw7">.rpcss-zs8kw7{background-color:#222;padding:20px 0;}</style><footer class="rpcss-zs8kw7"><div class="rpcss-1qqk0tr"><div class="rpcss-qx7dny"><style data-emotion="rpcss 79elbk">.rpcss-79elbk{position:relative;}</style><div class="rpcss-79elbk"><style data-emotion="rpcss 1hle0ni">.rpcss-1hle0ni{position:absolute;left:0;top:50%;color:#fff;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a class="rpcss-1hle0ni" href="/api/articles/feeds/desc/feed.xml"><style data-emotion="rpcss lvyu5j">.rpcss-lvyu5j{margin-right:10px;}</style><img class="rpcss-lvyu5j" alt="Flux RSS" height="16" src="/public/images/website/rss-feed.svg" width="16"/><style data-emotion="rpcss um3i31">@media (max-width: 400px){.rpcss-um3i31{display:none;}}</style><div class="rpcss-um3i31">Flux RSS</div></a><style data-emotion="rpcss 12cp4l7">.rpcss-12cp4l7{color:rgba(255, 255, 255, 0.5);text-align:center;font-size:14px;}</style><div class="rpcss-12cp4l7">© 2021 Putain de code !</div><style data-emotion="rpcss 1w98uy3">.rpcss-1w98uy3{position:absolute;right:0;top:50%;color:#fff;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><a class="rpcss-1w98uy3" href="https://github.com/putaindecode/putaindecode.io">GitHub</a></div></div></div></footer></div><script id="initialData" type="text/data">{"lists":{"RE_PRIVATE_NONE":true},"items":{"k":"articles","v":{"k":"introduction-overlay-manager-service","v":{"_0":{"TAG":0,"_0":{"slug":"introduction-overlay-manager-service","filename":"2017-11-02-introduction-overlay-manager-service","title":"Introduction à l'Overlay Manager Service, expliqué par quelqu'un qui n'y connaît rien","date":"Thu, 02 Nov 2017 00:00:00 GMT","draft":false,"meta":{"date":"2017-11-02T00:00:00.000Z","title":"Introduction à l'Overlay Manager Service, expliqué par quelqu'un qui n'y connaît rien","author":"jojmaht","oldSlug":"android/overlaymanagerservice","slug":"introduction-overlay-manager-service"},"body":"<blockquote>\n<p>DISCLAIMER : J'entrave pas un keyword de Java, j'ai jamais développé une seule\napp native, et plus globalement, je ne connais vraiment pas mon sujet. Ainsi,\nsi quelqu'un s'y connaissant mieux que moi passe par là, qu'il n'hésite\nsurtout pas à me corriger et à m'afficher devant la planète entière, j'ai\nbesoin de nourrir mon syndrome de l'imposteur.</p>\n</blockquote>\n<p>Salut les copains aujourd'hui tonton FoetusBoy (SkinnyFoetusDaron) (moi) va vous\nparler d'un sujet qu'il ne connaît pas et qui s'insèrera à ce titre aux côtés\nd'autres sujets qu'il ne connaît pas tels que la joie de vivre, les souvenirs\ndes jours joyeux et comment ne pas parler de soi à la troisième personne.</p>\n<p>Ouvrez vos calepins à la page bullshit, on va faire un cours sur l'Overlay\nManager Service (ou OMS) d'Android, sur comment ça fonctionne et comment vous\nallez pouvoir l'utiliser pour faire des trucs moches.</p>\n<figure>\n  <img src=\"/public/images/articles/2017-11-02-introduction-overlay-manager-service/OMS-moche.png\" alt=\"hahaha comment c'est trop moche\" />\n  <figcaption>J'ai séché les cours de théorie des couleurs</figcaption>\n</figure>\n<p>Okay alors maintenant que vos rétines sont perpétuellement démolies par cette\ncapture d'écran et que votre curiosité est piquée au vif, on attaque le cours\nd'histoire. Fin 2015, deux ingénieurs de chez Sony Mobile, Mårten Kongstad et\nMartin Wallgren, que j'identifie à 99% de chances comme étant probablement tous\nles deux Suédois (et qui illustrent bien l'inventivité de ce peuple lorsqu'il\ns'agit de trouver toutes les façons de nommer quelqu'un Martin), coécrivent un\ncommit dans l'AOSP (Android Open-Source Project), sous le chouette identifiant\n&quot;OMS: introduce the OverlayManagerService&quot;. Cet événement est chouette pour deux\nraisons :</p>\n<ul>\n<li>La première est qu'Android étant malgré le contrôle de Google un projet\nopen-source, c'est toujours intéressant de voir les constructeurs participer\nun peu au projet (les mauvaises langues diront que seul Sony joue vraiment le\njeu de l'open-source et les mauvaises langues n'auraient pas vraiment tort).</li>\n<li>La deuxième est que ça marque l'arrivée sur Android d'un véritable système de\ntheming (thématisation en Français, donc je vais dire theming plutôt hein),\npermettant ainsi aux constructeurs d'implémenter leurs customisations de façon\nbeaucoup plus souple et surtout aux initiés (moi et bientôt vous) de s'amuser\nun peu.</li>\n<li>Troisième raison (bonus) : C'était bientôt Noël et cette année-là on m'avait\noffert un joli manteau.</li>\n</ul>\n<p>Commençons. Comme son nom l'indique si vous parlez la langue de Jay-Z, l'Overlay\nManager Service est un service de gestion de surcouches.</p>\n<figure>\n  <img src=\"/public/images/articles/2017-11-02-introduction-overlay-manager-service/jayz.png\" alt=\"\" />\n  <figcaption>Si votre Google Translate n'a pas l'option de traduction de Jay-Z vers Molière c'est que vous n'avez pas souscrit à un abonnement Translate Gold</figcaption>\n</figure>\n<p>L'OMS est lui-même le successeur du RRO, pour &quot;Runtime Resource Overlay&quot;, ancien\nsystème propriétaire de Sony Mobile, utilisé en interne pour déployer et\nparamétrer rapidement leur surcouche à Android en fonction des demandes et\nbesoins des opérateurs et des mises à jour d'Android lui-même ou bien pour faire\nfonctionner les Thèmes Xperia (on connaît Sony assez friands de la customisation\npar les utilisateurs depuis la sortie de la PS3, surtout quand il s'agit de\nvendre des thèmes à 25$).</p>\n<p>Ce Runtime Resource Overlay (surcouches de ressources à l'exécution) s'opposait\nà l'outil Static Resource Overlay (surcouches de ressources statiques), un flag\ndu packager d'Android (aapt) qui était comme qui dirait &quot;bien mais pas top&quot; : il\npermettait de séparer le code source d'une application de sa surcouche pour\ngarder une base de travail propre (bien) mais ces surcouches ne pouvaient être\ninstallées qu'à la compilation de l'app, les rendant donc chiantes à débugger et\nnécessitaient plus ou moins qu'on soit le vendor original de l'application à\nmodifier (pas top). Le principal intérêt du RRO était donc de faire sauter ces\n&quot;barrières&quot;.</p>\n<p>Voyant donc que l'un des principaux reproches faits à Android, à raison ou à\ntort (à raison hein, on va pas se mentir) était sa fragmentation et que l'un de\nses facteurs (mais non le seul) était lié aux <em>vendors</em> (Samsung.) mettant trop\nde temps à recoder leur surcouche de A à Z à chaque version d'Android (et que de\ntoute façon pourquoi s'emmerder à mettre à jour un téléphone gratuitement alors\nque tu peux en vendre un nouveau pour 700 pétrodollars <em>allez achète, vil\nconsommateur</em> ?) les braves petits ingés de chez Sony ont préféré faire une\npetite PR sympa du côté de l'AOSP pour ajouter ce système de surcouches en natif\ndans Android. Resté dormant pendant quelques temps, l'OMS a enfin été activé de\nfaçon officielle (à peu près) par Google, lors de la sortie d'Android 8.0 Oreo,\nqui en tire une utilité assez basique mais prometteuse : changer littéralement\nune seule couleur dans l'interface, spécifiquement pour les téléphones Pixel.</p>\n<figure>\n  <img src=\"/public/images/articles/2017-11-02-introduction-overlay-manager-service/epoustouflan.png\" alt=\"époustouflan\" />\n  <figcaption>époustouflan</figcaption>\n</figure>\n<p>Ça peut paraître peu mais c'est finalement ce genre de modifications à la con\nqui peut considérablement ralentir le portage d'une nouvelle version d'Android\nsur un device existant. Ouvrons un peu le ventre de la bête.</p>\n<p>Un overlay, ça fonctionne assez simplement. Il prend la forme d'un Android\nPacKage (ci-après APK), le format standard des applications Android, genre de\npoint JAR survitaminé, qu'il conviendra donc de signer s'il vous plaît merci\nc'est important bonne journée, si vous comptez l'installer par vous-même en\ndehors de l'IDE consacré (Android Studio, donc). De par sa nature d'APK, un\noverlay devra donc contenir un AndroidManifest.xml, sorte de package.json si je\ndevais faire une équivalence avec le dev web, cet AndroidManifest donc, qui\nprendra la forme suivante :</p>\n<pre><code><?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\" package=\"LePetitNomDeMonPackage\">\n    <overlay android:priority=\"1000\" android:targetPackage=\"LePetitNomDuPackageCible\"/>\n</manifest>\n</code></pre>\n<p>Mettons les points sur les i et définissons immédiatement ce qu'un overlay n'est\npas : un overlay n'est <em>pas</em> une extension d'application, il ne peut en aucun\ncas rajouter des fonctionnalités à une application existante, de la même manière\nque vous galéreriez à rajouter des features à un site existant juste en\nmodifiant son CSS. En somme, à peu de choses près, un overlay se réduit à une\nfeuille de style où toutes les déclarations seraient faites avec <code>!important</code> et\ncomme on aime les bonnes pratiques bien maintenables chez PutainDeCode on vous\nrappellera de ne <em>JAMAIS</em> faire ça s'il vous plaît.</p>\n<p>Là où la comparaison s'arrête c'est que contrairement à CSS, les ressources\nd'une application ne comprennent pas que les couleurs et occasionnellement les\ndimensions des blocs, mais peuvent renfermer les icônes, les sons, les images,\net à peu près tout ce que le développeur original a voulu foutre dedans.</p>\n<p>En résumé, rajouter une feature pour envoyer des SMS depuis votre lecteur de\nmusique : c'est non; remplacer toutes les couleurs d'une appli par du rose, les\ntypos par du Comic Sans MS et les sons d'interactions par le bruit d'un canard\nqui fait &quot;Coin coin&quot; : c'est oui.</p>\n<p>D'ailleurs on va rendre l'application Calculatrice (dont le nom de package est\n&quot;com.google.android.calculator&quot;, ça servira plus tard) toute rose parce que\npourquoi pas. En décompilant donc l'APK à l'aide de notre fidèle\n<a href=\"https://ibotpeaches.github.io/Apktool/\">apktool</a>, nous voilà dans le cœur du\ncode, dans la matrice, dans la mer numérique, bref, dans un sacré paquet de\nfichiers XML.</p>\n<figure>\n  <img src=\"/public/images/articles/2017-11-02-introduction-overlay-manager-service/chosenOne.png\" alt=\"Mes collègues détestent que je dise I'm in à chaque fois que je fais un git pull\" />\n  <figcaption>*hacker voice* I'm in</figcaption>\n</figure>\n<p>Selon toute logique, la gestion des couleurs de l'app va probablement se\nretrouver dans un fichier qui s'appelle à peu près <code>colors.xml</code>, ce qui n'est\npas étonnant parce que c'est comme ça qu'on nomme ses fichiers quand on veut s'y\nretrouver, j'ai appris ça à l'école quand je mettais des gommettes sur mes\ncahiers. Il s'agit donc maintenant de voir ce à quoi sert chaque valeur dans ce\nfichier. Si vous arrivez à déduire le code hexa d'une couleur juste en la\nregardant, félicitations, vous êtes probablement un Terminator. Pour ceux qui ne\nsont pas des robots tueurs venus du turfu, faire une capture d'écran de\nl'application et ouvrir celle-ci dans Photoshop fonctionne très bien aussi.</p>\n<figure>\n  <img src=\"/public/images/articles/2017-11-02-introduction-overlay-manager-service/colors.png\" alt=\"Featuring l'outil pipette de Photoshop, on applaudit l'outil pipette de Photoshop\" />\n  <figcaption>Devinez à quel moment j'en ai eu marre de faire de belles flèches bien droites</figcaption>\n</figure>\n<p>Les trois valeurs nous intéressant sont donc <code>pad_advanced_background_color</code>,\n<code>pad_numeric_background_color</code> et <code>pad_operator_background_color</code> qui sont\nfinalement assez bien nommées. Vous remarquerez que les couleurs sont au format\n#aarrggbb et non pas #rrggbb, donc faites gaffe quand vous tripotez ça et que\nvous remplacez les couleurs par du rose (j'ai choisi le Bubblegum Pink de\nPantone mais si vous préférez d'autres teintes de rose, libre à vous). Il s'agit\nmaintenant de créer un nouveau fichier colors.xml dans notre\n<a href=\"https://github.com/jojmaht/OMS-template\">template OMS</a> qu'on va remplir\nainsi :</p>\n<pre><code class=\"hljs language-xml\"><span class=\"hljs-meta\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">resources</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">color</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;pad_advanced_background_color&quot;</span>&gt;</span>#fff4cbd4<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">color</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">color</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;pad_numeric_background_color&quot;</span>&gt;</span>#fff4cbd4<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">color</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">color</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;pad_operator_background_color&quot;</span>&gt;</span>#fff4cbd4<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">color</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">resources</span>&gt;</span>\n</code></pre>\n<p>Puis nous pouvons enfin compiler notre chef d'œuvre (toujours avec apktool) puis\nl'installer sur notre appareil, non sans l'avoir\n<a href=\"https://stackoverflow.com/questions/10930331/how-to-sign-an-already-compiled-apk\">au préalable signé</a>,\npuis enfin de l'appliquer via la commande</p>\n<pre><code>adb shell cmd overlay enable [le namespace de votre package que vous avez spécifié dans AndroidManifest.xml, moi par exemple c'est \"com.sfb.pinkcalc\"]\n</code></pre>\n<p>(il faut que votre téléphone soit en mode Développeur et que vous tourniez sous\nAndroid Oreo minimum sinon ça ne marchera pas, pas la peine de me demander pour\nfaire marcher ça sur votre téléphone si vous êtes sous Gingerbread, tout ce que\nje ferai ce sera me moquer de vous).</p>\n<p>Admirons ce merdier, maintenant.</p>\n<figure>\n  <img src=\"/public/images/articles/2017-11-02-introduction-overlay-manager-service/fuckthatspink.png\" alt=\"Sans rire, depuis l'écriture de cet article j'ai pas désactivé cet overlay, j'aime vraiment le look que ça donne à l'app calculatrice\" />\n  <figcaption>Absolument splendide.</figcaption>\n</figure>\n<p>C'est à peu près tout pour l'OMS, pour les bases du moins, n'hésitez surtout pas\nà décompiler toutes les apps que vous trouvez pour voir un peu comment ça marche\nà l'intérieur, c'est aussi pour ça que c'est cool Android. Allez faire vos\npropres trucs moches maintenant. <em>Ciao.</em></p>\n"}}},"h":1,"l":{"RE_PRIVATE_NONE":true},"r":{"RE_PRIVATE_NONE":true}},"h":1,"l":{"RE_PRIVATE_NONE":true},"r":{"RE_PRIVATE_NONE":true}},"listsRequests":{"data":{"RE_PRIVATE_NONE":true}},"itemsRequests":{"data":{"RE_PRIVATE_NONE":true}}}</script><head><script defer="defer" src="/public/main.56c69761a03eb0112696.js"></script></head></html>